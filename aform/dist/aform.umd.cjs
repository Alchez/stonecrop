(function(y,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(y=typeof globalThis<"u"?globalThis:y||self,t(y["@stonecrop/aform"]={},y.Vue))})(this,function(y,t){"use strict";const ce={id:"checkbox-container"},de=["id","readonly","required"],ue={id:"custom-checkbox"},pe=["for"],me=["innerHTML"],fe=t.defineComponent({__name:"ACheckbox",props:{label:{},value:{},required:{type:Boolean},readOnly:{type:Boolean},uuid:{},validation:{default:()=>({errorMessage:"&nbsp;"})}},emits:["update:value"],setup(e,{emit:n}){const l=e,o=n,s=t.computed({get(){return l.value},set(a){o("update:value",a)}});return(a,r)=>(t.openBlock(),t.createElementBlock("div",null,[t.createElementVNode("label",ce,[t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":r[0]||(r[0]=i=>s.value=i),type:"checkbox",id:a.uuid,class:"checkbox",readonly:a.readOnly,required:a.required},null,8,de),[[t.vModelCheckbox,s.value]]),t.createElementVNode("span",ue,t.toDisplayString(s.value),1)]),t.createElementVNode("label",{for:a.uuid,id:"checkbox-label"},t.toDisplayString(a.label),9,pe),t.withDirectives(t.createElementVNode("p",{innerHTML:a.validation.errorMessage},null,8,me),[[t.vShow,a.validation.errorMessage]])]))}}),mt="",b=(e,n)=>{const l=e.__vccOpts||e;for(const[o,s]of n)l[o]=s;return l},F=b(fe,[["__scopeId","data-v-743cd4db"]]),he=t.createElementVNode("div",null,[t.createElementVNode("input",{type:"text"}),t.createElementVNode("input",{type:"text"}),t.createElementVNode("input",{type:"text"})],-1),P=t.defineComponent({__name:"AComboBox",props:["event","cellData","tableID"],setup(e){return(n,l)=>{const o=t.resolveComponent("ATableModal");return t.openBlock(),t.createBlock(o,{event:e.event,cellData:e.cellData,class:"amodal"},{default:t.withCtx(()=>[he]),_:1},8,["event","cellData"])}}});var q;const H=typeof window<"u",ye=e=>typeof e=="string",ge=()=>{};H&&(q=window==null?void 0:window.navigator)!=null&&q.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function R(e){return typeof e=="function"?e():t.unref(e)}function _e(e){return e}function ke(e){return t.getCurrentScope()?(t.onScopeDispose(e),!0):!1}function I(e){var n;const l=R(e);return(n=l==null?void 0:l.$el)!=null?n:l}const U=H?window:void 0;function be(...e){let n,l,o,s;if(ye(e[0])||Array.isArray(e[0])?([l,o,s]=e,n=U):[n,l,o,s]=e,!n)return ge;Array.isArray(l)||(l=[l]),Array.isArray(o)||(o=[o]);const a=[],r=()=>{a.forEach(m=>m()),a.length=0},i=(m,_,k,f)=>(m.addEventListener(_,k,f),()=>m.removeEventListener(_,k,f)),u=t.watch(()=>[I(n),R(s)],([m,_])=>{r(),m&&a.push(...l.flatMap(k=>o.map(f=>i(m,k,f,_))))},{immediate:!0,flush:"post"}),p=()=>{u(),r()};return ke(p),p}const Y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j="__vueuse_ssr_handlers__";Y[j]=Y[j]||{};function we(e,{window:n=U,scrollTarget:l}={}){const o=t.ref(!1),s=()=>{if(!n)return;const a=n.document,r=I(e);if(!r)o.value=!1;else{const i=r.getBoundingClientRect();o.value=i.top<=(n.innerHeight||a.documentElement.clientHeight)&&i.left<=(n.innerWidth||a.documentElement.clientWidth)&&i.bottom>=0&&i.right>=0}};return t.watch(()=>I(e),()=>s(),{immediate:!0,flush:"post"}),n&&be(l||n,"scroll",s,{capture:!1,passive:!0}),o}var Q;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Q||(Q={}));var De=Object.defineProperty,z=Object.getOwnPropertySymbols,Ee=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable,W=(e,n,l)=>n in e?De(e,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[n]=l,Ae=(e,n)=>{for(var l in n||(n={}))Ee.call(n,l)&&W(e,l,n[l]);if(z)for(var l of z(n))Ce.call(n,l)&&W(e,l,n[l]);return e};Ae({linear:_e},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const w=e=>{let n=we(e).value;return n=n&&e.offsetHeight>0,n},D=e=>e.tabIndex>=0,K=e=>{const n=e.target;return B(n)},B=e=>{var n;let l;if(e instanceof HTMLTableCellElement){const o=(n=e.parentElement)==null?void 0:n.previousElementSibling;if(o){const s=Array.from(o.children)[e.cellIndex];s&&(l=s)}}else if(e instanceof HTMLTableRowElement){const o=e.previousElementSibling;o&&(l=o)}return l&&(!D(l)||!w(l))?B(l):l},Ve=e=>{var n;const l=e.target;let o;if(l instanceof HTMLTableCellElement){const s=(n=l.parentElement)==null?void 0:n.parentElement;if(s){const a=s.firstElementChild.children[l.cellIndex];a&&(o=a)}}else if(l instanceof HTMLTableRowElement){const s=l.parentElement;if(s){const a=s.firstElementChild;a&&(o=a)}}return o&&(!D(o)||!w(o))?v(o):o},G=e=>{const n=e.target;return v(n)},v=e=>{var n;let l;if(e instanceof HTMLTableCellElement){const o=(n=e.parentElement)==null?void 0:n.nextElementSibling;if(o){const s=Array.from(o.children)[e.cellIndex];s&&(l=s)}}else if(e instanceof HTMLTableRowElement){const o=e.nextElementSibling;o&&(l=o)}return l&&(!D(l)||!w(l))?v(l):l},Se=e=>{var n;const l=e.target;let o;if(l instanceof HTMLTableCellElement){const s=(n=l.parentElement)==null?void 0:n.parentElement;if(s){const a=s.lastElementChild.children[l.cellIndex];a&&(o=a)}}else if(l instanceof HTMLTableRowElement){const s=l.parentElement;if(s){const a=s.lastElementChild;a&&(o=a)}}return o&&(!D(o)||!w(o))?B(o):o},J=e=>{const n=e.target;return M(n)},M=e=>{var n;let l;if(e.previousElementSibling)l=e.previousElementSibling;else{const o=(n=e.parentElement)==null?void 0:n.previousElementSibling;l=o==null?void 0:o.lastElementChild}return l&&(!D(l)||!w(l))?M(l):l},X=e=>{const n=e.target;return T(n)},T=e=>{var n;let l;if(e.nextElementSibling)l=e.nextElementSibling;else{const o=(n=e.parentElement)==null?void 0:n.nextElementSibling;l=o==null?void 0:o.firstElementChild}return l&&(!D(l)||!w(l))?T(l):l},Z=e=>{const n=e.target.parentElement.firstElementChild;return n&&(!D(n)||!w(n))?T(n):n},ee=e=>{const n=e.target.parentElement.lastElementChild;return n&&(!D(n)||!w(n))?M(n):n},V=["alt","control","shift","meta"],Ie={ArrowUp:"up",ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right"},$={"keydown.up":e=>{const n=K(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())},"keydown.down":e=>{const n=G(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())},"keydown.left":e=>{const n=J(e);e.preventDefault(),e.stopPropagation(),n&&n.focus()},"keydown.right":e=>{const n=X(e);e.preventDefault(),e.stopPropagation(),n&&n.focus()},"keydown.control.up":e=>{const n=Ve(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())},"keydown.control.down":e=>{const n=Se(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())},"keydown.control.left":e=>{const n=Z(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())},"keydown.control.right":e=>{const n=ee(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())},"keydown.end":e=>{const n=ee(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())},"keydown.enter":e=>{if(e.target instanceof HTMLTableCellElement){e.preventDefault(),e.stopPropagation();const n=G(e);n&&n.focus()}},"keydown.shift.enter":e=>{if(e.target instanceof HTMLTableCellElement){e.preventDefault(),e.stopPropagation();const n=K(e);n&&n.focus()}},"keydown.home":e=>{const n=Z(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())},"keydown.tab":e=>{const n=X(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())},"keydown.shift.tab":e=>{const n=J(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())}};function te(e){const n=o=>{let s=null;o.parent&&(typeof o.parent=="string"?s=document.querySelector(o.parent):o.parent instanceof Element?s=o.parent:s=o.parent.value);let a=[];if(o.selectors)if(typeof o.selectors=="string")a=s?Array.from(s.querySelectorAll(o.selectors)):Array.from(document.querySelectorAll(o.selectors));else if(o.selectors instanceof Element)a.push(o.selectors);else if(Array.isArray(o.selectors.value))for(const r of o.selectors.value)r instanceof Element?a.push(r):a.push(r.$el);else a.push(o.selectors.value);else a=Array.from(s.children).filter(r=>D(r)&&w(r));return a},l=o=>s=>{const a=Ie[s.key]||s.key.toLowerCase();if(V.includes(a))return;const r=o.handlers||$;for(const i of Object.keys(r)){const[u,...p]=i.split(".");if(u==="keydown"&&p.includes(a)){const m=r[i],_=p.filter(f=>V.includes(f)),k=V.some(f=>{const E=f.charAt(0).toUpperCase()+f.slice(1);return s.getModifierState(E)});if(_.length>0){if(k){for(const f of V)if(p.includes(f)){const E=f.charAt(0).toUpperCase()+f.slice(1);s.getModifierState(E)&&m(s)}}}else k||m(s)}}};t.onMounted(()=>{for(const o of e){const s=n(o);for(const a of s)a.addEventListener("keydown",l(o))}}),t.onBeforeUnmount(()=>{for(const o of e){const s=n(o);for(const a of s)a.removeEventListener("keydown",l(o))}})}const Be=["event","colIndex","rowIndex","tableid"],ve={colspan:"5"},Me=["onClick"],Te=6,C=7,$e=t.defineComponent({__name:"ADate",props:{colIndex:{},rowIndex:{},tableid:{},event:{},indent:{},readonly:{type:Boolean}},setup(e){const n=e,l=t.inject(n.tableid),o=new Date,s=t.ref(),a=t.ref(),r=t.ref(),i=t.ref([]);t.onMounted(async()=>{let c=l.cellData(n.colIndex,n.rowIndex);c?(c instanceof Date||(c=new Date(c)),s.value=c,a.value=s.value.getMonth(),r.value=s.value.getFullYear()):(a.value=o.getMonth(),r.value=o.getFullYear()),u(),await t.nextTick();const g=document.getElementsByClassName("selecteddate");if(g.length>0)g[0].focus();else{const d=document.getElementsByClassName("todaysdate");d.length>0&&d[0].focus()}}),t.watch([a,r],()=>{u()});const u=()=>{i.value=[];const c=new Date(r.value,a.value,1),g=c.getDay(),d=c.setDate(c.getDate()-g);for(let h of Array(43).keys())i.value.push(d+h*864e5)},p=()=>{r.value-=1},m=()=>{r.value+=1},_=()=>{a.value==0?(a.value=11,p()):a.value-=1},k=()=>{a.value==11?(a.value=0,m()):a.value+=1},f=c=>{if(a.value===o.getMonth())return o.toDateString()===new Date(c).toDateString()},E=c=>new Date(c).toDateString()===new Date(s.value).toDateString(),S=(c,g)=>{s.value=new Date(i.value[g]),L()},L=()=>{l.setCellData(n.rowIndex,n.colIndex,s.value.getTime())},x=t.computed(()=>new Date(r.value,a.value,1).toLocaleDateString(void 0,{year:"numeric",month:"long"}));return te([{parent:"table.adate",selectors:"td",handlers:{...$,"keydown.pageup":_,"keydown.shift.pageup":p,"keydown.pagedown":k,"keydown.shift.pagedown":m}}]),(c,g)=>c.readonly?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",{key:0,event:c.event,colIndex:c.colIndex,rowIndex:c.rowIndex,tableid:c.tableid,class:"adate",tabindex:"0",ref:"adatepicker"},[t.createElementVNode("table",null,[t.createElementVNode("tr",null,[t.createElementVNode("td",{onClick:_,tabindex:-1},"<"),t.createElementVNode("th",ve,t.toDisplayString(x.value),1),t.createElementVNode("td",{onClick:k,tabindex:-1},">")]),(t.openBlock(),t.createElementBlock(t.Fragment,null,t.renderList(Te,d=>t.createElementVNode("tr",{key:d},[(t.openBlock(),t.createElementBlock(t.Fragment,null,t.renderList(C,h=>t.createElementVNode("td",{key:(d-1)*C+h,contenteditable:!1,spellcheck:!1,tabindex:0,style:t.normalizeStyle({border:E(i.value[(d-1)*C+h])?"2px solid var(--focus-cell-outline)":"none",borderBottomColor:f(i.value[(d-1)*C+h])?"var(--focus-cell-outline)":"none"}),onClick:t.withModifiers(N=>S(N,(d-1)*C+h),["prevent","stop"]),class:t.normalizeClass({todaysdate:f(i.value[(d-1)*C+h]),selecteddate:E(i.value[(d-1)*C+h])})},t.toDisplayString(new Date(i.value[(d-1)*C+h]).getDate()),15,Me)),64))])),64))])],8,Be))}}),ht="",ne=b($e,[["__scopeId","data-v-169f1184"]]),Oe=t.defineComponent({name:"ADropdown",props:{modelValue:{type:String,required:!1,default:""},label:{type:String,required:!0},value:String,items:{type:Array,required:!1,default:()=>[]},isAsync:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue","filterChanged"],data(){return{results:[],search:this.modelValue,isLoading:!1,arrowCounter:0,isOpen:!1}},watch:{items:function(e,n){this.isLoading=!1,this.results=e}},mounted(){document.addEventListener("click",this.handleClickOutside),this.filterResults()},destroyed(){document.removeEventListener("click",this.handleClickOutside)},methods:{setResult(e){this.search=e,this.closeResults()},filterResults(){this.results=this.items.filter(e=>e.toLowerCase().indexOf(this.search.toLowerCase())>-1)},onChange(){this.isOpen=!0,this.isAsync?(this.isLoading=!0,this.$emit("filterChanged",this.search)):this.filterResults()},handleClickOutside(e){this.$el.contains(e.target)||(this.closeResults(),this.arrowCounter=0)},closeResults(){this.isOpen=!1,this.items.includes(this.search)||(this.search=""),this.$emit("update:modelValue",this.search)},onArrowDown(){this.arrowCounter<this.results.length&&(this.arrowCounter=this.arrowCounter+1)},onArrowUp(){this.arrowCounter>0&&(this.arrowCounter=this.arrowCounter-1)},onEnter(){this.search=this.results[this.arrowCounter],this.closeResults(),this.arrowCounter=0},openWithSearch(){this.search="",this.onChange(),this.$refs.mopInput.focus()}}}),yt="",Le={class:"input-wrapper"},xe={id:"autocomplete-results",class:"autocomplete-results"},Ne={key:0,class:"loading autocomplete-result"},Fe=["onClick"];function Pe(e,n,l,o,s,a){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["autocomplete",{isOpen:e.isOpen}])},[t.createElementVNode("div",Le,[t.withDirectives(t.createElementVNode("input",{ref:"mopInput",type:"text",onInput:n[0]||(n[0]=(...r)=>e.onChange&&e.onChange(...r)),onFocus:n[1]||(n[1]=(...r)=>e.onChange&&e.onChange(...r)),"onUpdate:modelValue":n[2]||(n[2]=r=>e.search=r),onKeydown:[n[3]||(n[3]=t.withKeys((...r)=>e.onArrowDown&&e.onArrowDown(...r),["down"])),n[4]||(n[4]=t.withKeys((...r)=>e.onArrowUp&&e.onArrowUp(...r),["up"])),n[5]||(n[5]=t.withKeys((...r)=>e.onEnter&&e.onEnter(...r),["enter"]))]},null,544),[[t.vModelText,e.search]]),t.withDirectives(t.createElementVNode("ul",xe,[e.isLoading?(t.openBlock(),t.createElementBlock("li",Ne,"Loading results...")):(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:1},t.renderList(e.results,(r,i)=>(t.openBlock(),t.createElementBlock("li",{key:i,onClick:u=>e.setResult(r),class:t.normalizeClass(["autocomplete-result",{"is-active":i===e.arrowCounter}])},t.toDisplayString(r),11,Fe))),128))],512),[[t.vShow,e.isOpen]]),t.createElementVNode("label",null,t.toDisplayString(e.label),1)])],2)}const oe=b(Oe,[["render",Pe]]),qe=e=>(t.pushScopeId("data-v-79400fb2"),e=e(),t.popScopeId(),e),He=["event"],Re={class:"adate-header"},Ue={colspan:"5"},Ye=qe(()=>t.createElementVNode("tr",{class:"adate-header"},[t.createElementVNode("td",null,"M"),t.createElementVNode("td",null,"T"),t.createElementVNode("td",null,"W"),t.createElementVNode("td",null,"T"),t.createElementVNode("td",null,"F"),t.createElementVNode("td",null,"S"),t.createElementVNode("td",null,"S")],-1)),je=["onClick"],Qe=6,A=7,ze=t.defineComponent({__name:"ADatePicker",props:{value:{},event:{}},emits:["update:modelValue","selectedDate"],setup(e,{emit:n}){const l=e,o=n,s=new Date,a=t.ref(l.value||void 0),r=t.ref(),i=t.ref(),u=t.ref([]);t.onMounted(async()=>{let c=new Date;c?(a.value=c,r.value=a.value.getMonth(),i.value=a.value.getFullYear()):(r.value=s.getMonth(),i.value=s.getFullYear()),p(),await t.nextTick();const g=document.getElementsByClassName("selecteddate");if(g.length>0)g[0].focus();else{const d=document.getElementsByClassName("todaysdate");d.length>0&&d[0].focus()}}),t.watch([r,i],()=>{p()});const p=()=>{u.value=[];const c=new Date(i.value,r.value,1),g=c.getDay(),d=c.setDate(c.getDate()-g);for(let h of Array(43).keys())u.value.push(d+h*864e5)},m=()=>{i.value-=1},_=()=>{i.value+=1},k=()=>{r.value==0?(r.value=11,m()):r.value-=1},f=()=>{r.value==11?(r.value=0,_()):r.value+=1},E=c=>{if(r.value===s.getMonth())return s.toDateString()===new Date(c).toDateString()},S=c=>new Date(c).toDateString()===new Date(a.value).toDateString();t.computed({get:()=>a.value,set:c=>{o("update:modelValue",c)}});const L=(c,g)=>{a.value=new Date(u.value[g]),o("selectedDate",a.value)},x=t.computed(()=>new Date(i.value,r.value,1).toLocaleDateString(void 0,{year:"numeric",month:"long"}));return te([{parent:"table.adate",selectors:"td",handlers:{...$,"keydown.pageup":k,"keydown.shift.pageup":m,"keydown.pagedown":f,"keydown.shift.pagedown":_}}]),(c,g)=>(t.openBlock(),t.createElementBlock("div",{event:c.event,class:"adate",tabindex:"0",ref:"adatepicker"},[t.createElementVNode("table",null,[t.createElementVNode("tr",Re,[t.createElementVNode("td",{onClick:k,tabindex:-1},"<"),t.createElementVNode("th",Ue,t.toDisplayString(x.value),1),t.createElementVNode("td",{onClick:f,tabindex:-1},">")]),Ye,(t.openBlock(),t.createElementBlock(t.Fragment,null,t.renderList(Qe,d=>t.createElementVNode("tr",{key:d},[(t.openBlock(),t.createElementBlock(t.Fragment,null,t.renderList(A,h=>t.createElementVNode("td",{key:(d-1)*A+h,contenteditable:!1,spellcheck:!1,tabindex:0,style:t.normalizeStyle({border:S(u.value[(d-1)*A+h])?"2px solid var(--focus-cell-outline)":"none",borderBottomColor:E(u.value[(d-1)*A+h])?"var(--focus-cell-outline)":"none"}),onClick:t.withModifiers(N=>L(N,(d-1)*A+h),["prevent","stop"]),class:t.normalizeClass({todaysdate:E(u.value[(d-1)*A+h]),selecteddate:S(u.value[(d-1)*A+h])})},t.toDisplayString(new Date(u.value[(d-1)*A+h]).getDate()),15,je)),64))])),64))])],8,He))}}),gt="",le=b(ze,[["__scopeId","data-v-79400fb2"]]),We=t.defineComponent({__name:"CollapseButton",props:{collapsed:{type:Boolean}},setup(e){return(n,l)=>(t.openBlock(),t.createElementBlock("button",{class:t.normalizeClass(["collapse-button",n.collapsed?"rotated":"unrotated"])},"×",2))}}),_t="",Ke=b(We,[["__scopeId","data-v-6f1c1b45"]]),Ge=t.defineComponent({__name:"AForm",props:{modelValue:{},data:{},readonly:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:n}){const l=e,o=n,s=t.ref(l.data||{}),a=i=>{let u={};for(const[p,m]of Object.entries(i))["component","fieldtype"].includes(p)||(u[p]=m),p==="rows"&&m&&m.length===0&&(u.rows=s.value[i.fieldname]);return u},r=t.computed({get:()=>l.modelValue.map((i,u)=>t.computed({get(){return i.value},set:p=>{l.modelValue[u].value=p,o("update:modelValue",l.modelValue)}})),set:()=>{}});return(i,u)=>(t.openBlock(),t.createElementBlock("form",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(i.modelValue,(p,m)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(p.component),t.mergeProps({key:m,schema:p,modelValue:r.value[m].value,"onUpdate:modelValue":_=>r.value[m].value=_,data:s.value[p.fieldname],readonly:i.readonly},a(p)),null,16,["schema","modelValue","onUpdate:modelValue","data","readonly"]))),128))]))}}),kt="",O=b(Ge,[["__scopeId","data-v-82492bb4"]]),Je=t.defineComponent({__name:"AFieldset",props:{schema:{},label:{},collapsible:{type:Boolean},data:{}},setup(e){const n=e,l=t.ref(n.data||[]);let o=t.ref(!1),s=t.ref(n.collapsible);const a=t.ref(n.schema);function r(i){i.preventDefault(),s.value&&(o.value=!o.value)}return(i,u)=>(t.openBlock(),t.createElementBlock("fieldset",null,[t.createElementVNode("legend",{onClick:r,onSubmit:r},[t.createTextVNode(t.toDisplayString(i.label)+" ",1),t.unref(s)?(t.openBlock(),t.createBlock(Ke,{key:0,collapsed:t.unref(o)},null,8,["collapsed"])):t.createCommentVNode("",!0)],32),t.renderSlot(i.$slots,"default",{collapsed:t.unref(o)},()=>[t.withDirectives(t.createVNode(O,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=p=>a.value=p),data:l.value},null,8,["modelValue","data"]),[[t.vShow,!t.unref(o)]])],!0)]))}}),bt="",ae=b(Je,[["__scopeId","data-v-cad9b578"]]),Xe=["id","disabled","required"],Ze=["for"],et=["innerHTML"],tt=t.defineComponent({__name:"ANumericInput",props:{label:{},modelValue:{},required:{type:Boolean},readonly:{type:Boolean},uuid:{},validation:{default:()=>({errorMessage:"&nbsp;"})}},emits:["update:modelValue"],setup(e,{emit:n}){const l=e,o=n,s=t.computed({get:()=>l.modelValue,set:a=>{o("update:modelValue",a)}});return(a,r)=>(t.openBlock(),t.createElementBlock("div",null,[t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":r[0]||(r[0]=i=>s.value=i),type:"number",id:a.uuid,disabled:a.readonly,required:a.required},null,8,Xe),[[t.vModelText,s.value]]),t.createElementVNode("label",{for:a.uuid},t.toDisplayString(a.label),9,Ze),t.withDirectives(t.createElementVNode("p",{innerHTML:a.validation.errorMessage},null,8,et),[[t.vShow,a.validation.errorMessage]])]))}}),wt="",se=b(tt,[["__scopeId","data-v-be33e6c4"]]),re={date:"##/##/####",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"};function nt(e){try{return Function(`"use strict";return (${e})`)()}catch{}}function ot(e){var l;let n=e.value;if(n){const o=nt(n);if(o){const s=e.instance.locale;n=o(s)}}else{const s=(l=e.instance.schema.fieldtype)==null?void 0:l.toLowerCase();s&&re[s]&&(n=re[s])}return n}function lt(e,n){n||(n="#");let l=e;const o=[n,"/","-","(",")"," "];for(const s of o)l=l.replaceAll(s,"");return l}function at(e,n,l){l||(l="#");let o=n;for(const s of e){const a=o.indexOf(l);if(a!==-1){const r=o.substring(0,a),i=o.substring(a+1);o=r+s+i}}return o.slice(0,n.length)}function st(e,n){const l=ot(n);if(!l)return;const o="#",s=e.value,a=lt(s,o);if(a){const r=at(a,l,o);n.instance.maskFilled&&(n.instance.maskFilled=!r.includes(o)),e.value=r}else e.value=l}const rt=t.defineComponent({name:"ATextInput",props:{schema:{type:Object,required:!0},label:{type:String,required:!0},modelValue:{type:null},mask:{type:String},required:{type:Boolean},readonly:{type:Boolean},uuid:{type:String},validation:{type:Object,default:()=>({errorMessage:"&nbsp;"})}},setup(e,n){const l=t.ref(!1),o=t.inject("locale","");return{inputText:t.computed({get(){return e.modelValue},set(a){n.emit("update:modelValue",a)}}),locale:o,maskFilled:l}},directives:{mask:st}}),Dt="",it=["id","disabled","maxlength","required"],ct=["for"],dt=["innerHTML"];function ut(e,n,l,o,s,a){const r=t.resolveDirective("mask");return t.openBlock(),t.createElementBlock("div",null,[t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":n[0]||(n[0]=i=>e.inputText=i),id:e.uuid,disabled:e.readonly,maxlength:e.mask?e.maskFilled&&e.mask.length:void 0,required:e.required},null,8,it),[[t.vModelText,e.inputText],[r,e.mask]]),t.createElementVNode("label",{for:e.uuid},t.toDisplayString(e.label),9,ct),t.withDirectives(t.createElementVNode("p",{innerHTML:e.validation.errorMessage},null,8,dt),[[t.vShow,e.validation.errorMessage]])])}const ie=b(rt,[["render",ut],["__scopeId","data-v-76dba9b8"]]);function pt(e){e.component("ACheckbox",F),e.component("ACombobox",P),e.component("ADate",ne),e.component("ADropdown",oe),e.component("ADatePicker",le),e.component("AFieldset",ae),e.component("AForm",O),e.component("ANumericInput",se),e.component("ATextInput",ie)}y.ACheckbox=F,y.AComboBox=P,y.ADate=ne,y.ADatePicker=le,y.ADropdown=oe,y.AFieldset=ae,y.AForm=O,y.ANumericInput=se,y.ATextInput=ie,y.install=pt,Object.defineProperty(y,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=aform.umd.cjs.map
