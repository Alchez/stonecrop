(function(e,c){typeof exports=="object"&&typeof module!="undefined"?module.exports=c(require("vue")):typeof define=="function"&&define.amd?define(["vue"],c):(e=typeof globalThis!="undefined"?globalThis:e||self,e.AForm=c(e.Vue))})(this,function(e){"use strict";var c="",i=(t,o)=>{const n=t.__vccOpts||t;for(const[d,r]of o)n[d]=r;return n};const m=e.defineComponent({name:"AForm",props:["data","schema","key"],setup(t,o){const n=e.ref(t.data||{});function d(a){if(a.component)return a.component;if(a.fieldtype)return a.fieldtype}function r(a){let l={};for(const[s,p]of Object.entries(a))s!="component"&&s!="fieldtype"&&(l[s]=p);return l}return{deriveComponent:d,formData:n,componentProps:r}}});function f(t,o,n,d,r,a){return e.openBlock(),e.createElementBlock("form",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.schema,(l,s)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.deriveComponent(l)),e.mergeProps({key:s,schema:l},t.componentProps(l),{value:t.formData[l.fieldname]}),null,16,["schema","value"]))),128))])}var u=i(m,[["render",f],["__scopeId","data-v-6ffb33cb"]]),x="";const _=e.defineComponent({props:["collapsed"],setup(t,o){}});function y(t,o,n,d,r,a){return e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass(["collapse-button",t.collapsed?"rotated":"unrotated"])},"\xD7",2)}var b=i(_,[["render",y],["__scopeId","data-v-a2c6271a"]]),D="";const B=e.defineComponent({name:"AFieldset",components:{AForm:u,CollapseButton:b},props:["value","schema","key","label","collapsible"],setup(t,o){const n=e.ref(t.data||{});let d=e.ref(!1),r=e.ref(t.collapsible);function a(l){l.preventDefault(),r&&(d.value=!d.value)}return{formData:n,collapsed:d,toggleCollapse:a,collapsible:r}}});function k(t,o,n,d,r,a){const l=e.resolveComponent("CollapseButton"),s=e.resolveComponent("AForm");return e.openBlock(),e.createElementBlock("fieldset",null,[e.createElementVNode("legend",{onClick:o[0]||(o[0]=p=>t.toggleCollapse(p)),onSubmit:o[1]||(o[1]=p=>t.toggleCollapse(p))},[e.createTextVNode(e.toDisplayString(t.label)+" ",1),t.collapsible?(e.openBlock(),e.createBlock(l,{key:0,collapsed:t.collapsed},null,8,["collapsed"])):e.createCommentVNode("",!0)],32),e.withDirectives(e.createVNode(s,{schema:t.schema,data:t.formData},null,8,["schema","data"]),[[e.vShow,!t.collapsed]])])}var g=i(B,[["render",k],["__scopeId","data-v-53d61727"]]);const A={name:"ANumericInput",props:{value:{required:!1},required:{type:Boolean,default:!1},label:{type:String,required:!0},readOnly:{type:Boolean,default:!1},uuid:{type:Number,default:0},validation:{type:Object,default:()=>({errorMessage:"&nbsp;"})}},data(){return{amount:""}},methods:{update(t){this.$emit("update:value",t)}}};function C(t,o,n,d,r,a){const l=e.resolveComponent("ATextInput");return e.openBlock(),e.createBlock(l,{label:n.label,readOnly:n.readOnly,uuid:n.uuid,validation:n.validation,modelValue:r.amount,"onUpdate:modelValue":o[0]||(o[0]=s=>r.amount=s)},null,8,["label","readOnly","uuid","validation","modelValue"])}var v=i(A,[["render",C]]),O="";const h={name:"ATextInput",props:{value:{required:!1},required:{type:Boolean,default:!1},label:{type:String,required:!0},readOnly:{type:Boolean,default:!1},uuid:{type:Number,default:0},validation:{type:Object,default:()=>({errorMessage:"&nbsp;"})}},methods:{update(t){this.$emit("update:value",t)}}},$=["value","required","id","disabled"],I=["for"],F=["innerHTML"];function N(t,o,n,d,r,a){return e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("input",{value:n.value,required:n.required,id:n.uuid,disabled:n.readOnly,onInput:o[0]||(o[0]=l=>a.update(l.target.value))},null,40,$),e.createElementVNode("label",{for:n.uuid},e.toDisplayString(n.label),9,I),e.withDirectives(e.createElementVNode("p",{innerHTML:n.validation.errorMessage},null,8,F),[[e.vShow,n.validation.errorMessage]])])}var T=i(h,[["render",N],["__scopeId","data-v-4262e9c3"]]);function V(t,o){t.component("AForm",u),t.component("AFieldset",g),t.component("ANumericInput",v),t.component("ATextInput",T)}var q={install:V};return q});
