!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["@sedum/stonecrop"]=e(t.Vue)}(this,(function(t){"use strict";const e=(()=>{let t;try{t="production"}catch(e){t="development"}return t})(),n=Symbol("IS_PROXY"),s=Symbol("PATH"),r=Symbol("VALUE"),o=Symbol("PROXY_TREE"),i=new Set(["push","shift","pop","unshift","splice","reverse","sort","copyWithin"]),a=t=>t&&t[n]?t[r]:t,c=t=>"object"==typeof t&&null!==t&&!Array.isArray(t)&&"Object"!==t.constructor.name&&Object.isExtensible(t),u=t=>void 0!==t&&(!c(t)||c(t)&&!(t instanceof Date)&&!(t instanceof Map)&&!(t instanceof Set));class l{constructor(t){this.tree=t,this.CACHED_PROXY=Symbol("CACHED_PROXY"),this.delimiter=t.master.options.delimiter,this.ssr=Boolean(t.master.options.ssr)}concat(t,e){return t?t+this.delimiter+e:e}ensureMutationTrackingIsEnabled(t){if("production"!==e&&this.tree.master.options.devmode&&!this.tree.canMutate())throw new Error(`proxy-state-tree - You are mutating the path "${t}", but it is not allowed. The following could have happened:\n        \n        - The mutation is explicitly being blocket\n        - You are passing state to a 3rd party tool trying to manipulate the state\n        - You are running asynchronous code and forgot to "await" its execution\n        `)}isDefaultProxifier(){return this.tree.proxifier===this.tree.master.proxifier}ensureValueDosntExistInStateTreeElsewhere(t){if("production"!==e){if(t&&!0===t[n])throw new Error(`proxy-state-tree - You are trying to insert a value that already exists in the state tree on path "${t[s]}"`);return t}}trackPath(t){if(this.tree.canTrack())if(this.isDefaultProxifier()){const e=this.tree.master.currentTree;if(!e)return;e.addTrackingPath(t)}else this.tree.addTrackingPath(t)}getTrackingTree(){return this.tree.master.currentTree&&this.isDefaultProxifier()?this.tree.master.currentTree:this.tree.canTrack()&&this.tree.canTrack()?this.tree:null}getMutationTree(){return this.tree.master.mutationTree||this.tree}isProxyCached(t,e){return t[this.CACHED_PROXY]&&String(t[this.CACHED_PROXY][s])===String(e)}createArrayProxy(t,o){if(!this.ssr&&this.isProxyCached(t,o))return t[this.CACHED_PROXY];const c=this,l=new Proxy(t,{get(l,h){if(h===n)return!0;if(h===s)return o;if(h===r)return t;if("indexOf"===h)return(e,n)=>t.indexOf(a(e),a(n));if("length"===h||"function"==typeof l[h]&&!i.has(String(h))||"symbol"==typeof h)return l[h];const f=c.getTrackingTree(),d=c.concat(o,h),p=f||c.tree;f&&f.proxifier.trackPath(d),p.trackPathListeners.forEach((t=>t(d)));const m=String(h);return i.has(m)?(...t)=>{const n=c.getMutationTree();let s;return s="production"===e?l[h](...t):l[h](...t.map((t=>c.ensureValueDosntExistInStateTreeElsewhere(t)))),n.addMutation({method:m,path:o,delimiter:c.delimiter,args:t,hasChangedValue:!0}),s}:u(l[h])?c.proxify(l[h],d):l[h]},set(t,e,n){const s=c.concat(o,e),r=c.getMutationTree(),i=Reflect.set(t,e,n);return r.addMutation({method:"set",path:s,args:[n],delimiter:c.delimiter,hasChangedValue:!0}),i}});return this.ssr||Object.defineProperty(t,this.CACHED_PROXY,{value:l,configurable:!0}),l}createObjectProxy(t,e){if(!this.ssr&&this.isProxyCached(t,e))return t[this.CACHED_PROXY];const i=this,a=new Proxy(t,{get(l,h){if(h===n)return!0;if(h===s)return e;if(h===r)return t;if(h===o)return i.tree;if("symbol"==typeof h||h in Object.prototype)return l[h];const f=Object.getOwnPropertyDescriptor(l,h)||Object.getPrototypeOf(l)&&Object.getOwnPropertyDescriptor(Object.getPrototypeOf(l),h);if(f&&"get"in f){const t=f.get.call(a);return i.tree.master.options.devmode&&i.tree.master.options.onGetter&&i.tree.master.options.onGetter(i.concat(e,h),t),t}const d=i.getTrackingTree(),p=l[h],m=i.concat(e,h),g=d||i.tree;return"function"==typeof p?i.tree.master.options.onGetFunction?i.tree.master.options.onGetFunction(d||i.tree,m,l,h):c(l)?p:p.call(l,i.tree,m):(g.trackPathListeners.forEach((t=>t(m))),d&&d.proxifier.trackPath(m),u(p)?i.proxify(p,m):p)},set(t,n,s){const r=i.concat(e,n);let o;n in t||(o=e);const a=i.getMutationTree(),c=t[n];"function"==typeof s&&i.tree.master.options.onSetFunction&&(s=i.tree.master.options.onSetFunction(i.getTrackingTree()||i.tree,r,t,n,s));const u=c!==s,l=Reflect.set(t,n,s);return a.addMutation({method:"set",path:r,args:[s],delimiter:i.delimiter,hasChangedValue:u},o),l},deleteProperty(t,n){const s=i.concat(e,n);let r;n in t&&(r=e);const o=i.getMutationTree();return delete t[n],o.addMutation({method:"unset",path:s,args:[],delimiter:i.delimiter,hasChangedValue:!0},r),!0}});return this.ssr||Object.defineProperty(t,this.CACHED_PROXY,{value:a,configurable:!0}),a}proxify(t,e){if(t){if(t[n]&&(String(t[s])!==String(e)||t[r][this.CACHED_PROXY]!==t))return this.proxify(t[r],e);if(t[n])return t;if(Array.isArray(t))return this.createArrayProxy(t,e);if((t=>"[object Object]"===String(t)&&"Object"===t.constructor.name)(t)||c(t))return this.createObjectProxy(t,e)}return t}}class h{constructor(t,e){this.mutationCallbacks=[],this.mutations=[],this.objectChanges=new Set,this.isTracking=!1,this.isBlocking=!1,this.trackPathListeners=[],this.isTracking=!0,this.master=t,this.proxifier=e||new l(this),this.state=this.proxifier.proxify(t.sourceState,"")}trackPaths(){const t=new Set,e=e=>{t.add(e)};return this.trackPathListeners.push(e),()=>(this.trackPathListeners.splice(this.trackPathListeners.indexOf(e),1),t)}getMutations(){const t=this.mutations.slice();return this.mutations.length=0,t}getObjectChanges(){const t=new Set([...this.objectChanges]);return this.objectChanges.clear(),t}addMutation(t,e){const n=this.master.currentFlushId;this.mutations.push(t),e&&this.objectChanges.add(e);for(const s of this.master.mutationCallbacks)s(t,new Set(e?[t.path,e]:[t.path]),n);for(const s of this.mutationCallbacks)s(t,new Set(e?[t.path,e]:[t.path]),n)}flush(t=!1){return this.master.flush(this,t)}onMutation(t){this.mutationCallbacks.push(t)}canMutate(){return this.isTracking&&!this.isBlocking}canTrack(){return!1}blockMutations(){this.isBlocking=!0}enableMutations(){this.isBlocking=!1}dispose(){return this.isTracking=!1,this.mutationCallbacks.length=0,this.proxifier=this.master.proxifier,this}}class f{constructor(t){this.pathDependencies=new Set,this.shouldTrack=!1,this.trackPathListeners=[],this.master=t,this.proxifier=t.proxifier,this.state=t.state}trackPaths(){const t=new Set,e=e=>{t.add(e)};return this.trackPathListeners.push(e),()=>(this.trackPathListeners.splice(this.trackPathListeners.indexOf(e),1),t)}canMutate(){return!1}canTrack(){return!0}addTrackingPath(t){this.shouldTrack&&(this.pathDependencies.add(t),this.callback&&this.master.addPathDependency(t,this.callback))}track(t){return this.master.changeTrackStateTree(this),this.shouldTrack=!0,this.clearTracking(),t&&(this.callback=(...e)=>{this.callback&&t(...e)}),this}clearTracking(){if(this.callback)for(const t of this.pathDependencies)this.master.removePathDependency(t,this.callback);this.pathDependencies.clear()}stopTracking(){this.shouldTrack=!1}trackScope(t,e){const n=this.master.previousTree,s=this.master.currentTree;this.master.currentTree=this,this.track(e);const r=t(this);return this.master.currentTree=s,this.master.previousTree=n,this.stopTracking(),r}dispose(){return this.callback?(this.clearTracking(),this.callback=null,this.proxifier=this.master.proxifier,this.master.currentTree===this&&(this.master.currentTree=null),this):(this.pathDependencies.clear(),this)}}class d{constructor(t,e={}){this.cache={mutationTree:[],trackStateTree:[]},this.flushCallbacks=[],this.mutationCallbacks=[],this.currentFlushId=0,this.pathDependencies={},void 0===e.devmode&&(e.devmode=!0),e.delimiter||(e.delimiter="."),this.master=this,this.sourceState=t,this.options=e,this.createTrackStateProxifier()}createTrackStateProxifier(){const t=new f(this);this.proxifier=t.proxifier=new l(t),this.state=t.state=this.proxifier.proxify(this.sourceState,"")}getMutationTree(){if(!this.options.devmode)return this.mutationTree=this.mutationTree||new h(this,this.proxifier);return this.cache.mutationTree.pop()||new h(this)}getTrackStateTree(){return this.cache.trackStateTree.pop()||new f(this)}getTrackStateTreeWithProxifier(){const t=this.getTrackStateTree();return this.options.ssr?t.state=this.sourceState:(t.proxifier=new l(t),t.state=t.proxifier.proxify(this.sourceState,"")),t}changeTrackStateTree(t){this.previousTree=this.currentTree,this.currentTree=t}disposeTree(t){t instanceof h?this.cache.mutationTree.push(t.dispose()):t instanceof f&&this.cache.trackStateTree.push(t.dispose())}onMutation(t){return this.mutationCallbacks.push(t),()=>{this.mutationCallbacks.splice(this.mutationCallbacks.indexOf(t),1)}}forceFlush(){const t=[],e=[];for(const n in this.pathDependencies){this.pathDependencies[n].forEach((n=>{n(t,e,this.currentFlushId++,!1)}))}}flush(t,e=!1){let n;if(n=Array.isArray(t)?t.reduce(((t,e)=>({mutations:t.mutations.concat(e.getMutations()),objectChanges:new Set([...t.objectChanges,...e.getObjectChanges()])})),{mutations:[],objectChanges:new Set}):{mutations:t.getMutations(),objectChanges:t.getObjectChanges()},!n.mutations.length&&!n.objectChanges.size)return{mutations:[],flushId:null};const s=new Set,r=new Set,o=this.currentFlushId++;for(const c of n.objectChanges)this.pathDependencies[c]&&s.add(c);for(const c of n.mutations)c.hasChangedValue&&s.add(c.path);const i=Array.from(s).sort();for(const c of i)if(this.pathDependencies[c])for(const t of this.pathDependencies[c])r.add(t);for(const c of r)c(n.mutations,i,o,e);const a=this.flushCallbacks.slice();for(const c of a)this.flushCallbacks.includes(c)&&c(n.mutations,i,o,e);return s.clear(),r.clear(),{mutations:n.mutations,flushId:o}}onFlush(t){return this.flushCallbacks.push(t),()=>this.flushCallbacks.splice(this.flushCallbacks.indexOf(t),1)}rescope(t,e){return t&&t[n]?e.proxifier.proxify(t[r],t[s]):t}addPathDependency(t,e){this.pathDependencies[t]||(this.pathDependencies[t]=new Set),this.pathDependencies[t].add(e)}removePathDependency(t,e){this.pathDependencies[t].delete(e),this.pathDependencies[t].size||delete this.pathDependencies[t]}toJSON(){return this.sourceState}}var p,m;(m=p||(p={})).ACTION_START="action:start",m.ACTION_END="action:end",m.OPERATOR_START="operator:start",m.OPERATOR_END="operator:end",m.OPERATOR_ASYNC="operator:async",m.MUTATIONS="mutations",m.EFFECT="effect",m.DERIVED="derived",m.DERIVED_DIRTY="derived:dirty",m.COMPONENT_ADD="component:add",m.COMPONENT_UPDATE="component:update",m.COMPONENT_REMOVE="component:remove",m.GETTER="getter";const g=Symbol("IS_DERIVED"),y=Symbol("IS_DERIVED_CONSTRUCTOR");class b{constructor(t){this.cb=t,this.isDirty=!0,this.updateCount=0;const e=this.evaluate.bind(this);return e[g]=!0,e}runScope(t,e){const n=e.slice(0,e.length-1).reduce(((t,e)=>t[e]),t.state);return this.cb(n,t.state)}evaluate(t,e,s,r){if(this.disposeOnMutation||(this.disposeOnMutation=s.onMutation(((e,n,o)=>{if("function"==typeof r.reduce(((t,e)=>t&&t[e]),s.sourceState)){if(!this.isDirty)for(const s of n)if(this.paths.has(s))return this.isDirty=!0,void t.emitAsync(p.DERIVED_DIRTY,{derivedPath:r,path:s,flushId:o})}else this.disposeOnMutation()}))),this.isDirty||this.previousProxifier!==e.proxifier){const t=e.trackPaths();this.value=this.runScope(e,r),this.isDirty=!1,this.paths=t()}if(e instanceof f)for(const n of this.paths)e.addTrackingPath(n),e.trackPathListeners.forEach((t=>t(n)));return this.previousProxifier=e.proxifier,this.value&&this.value[n]?s.rescope(this.value,e):this.value}}var v=function(){function t(){this.events=new Map}return t.prototype.emit=function(t,e){for(var n=this.events.get(t)||[],s=n.length-1;s>=0;s--){var r=n[s];r.cb(e),r.once&&n.splice(s,1)}},t.prototype.emitAsync=function(t,e){var n=this.events.get(t)||[];setTimeout((function(){for(var t=n.length-1;t>=0;t--){var s=n[t];s.cb(e),s.once&&n.splice(t,1)}}))},t.prototype.on=function(t,e){this.addListener(t,e,!1)},t.prototype.once=function(t,e){this.addListener(t,e,!0)},t.prototype.addListener=function(t,e,n){var s=this.events.get(t)||[];s.push({once:n,cb:e}),this.events.set(t,s)},t}(),O=Object.prototype.toString,T=function(t){var e;return"[object Object]"===O.call(t)&&(null===(e=Object.getPrototypeOf(t))||e===Object.getPrototypeOf({}))};
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.
  
      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.
  
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */
function E(t,e,n,s){return new(n||(n=Promise))((function(r,o){function i(t){try{c(s.next(t))}catch(e){o(e)}}function a(t){try{c(s.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}c((s=s.apply(t,e||[])).next())}))}function S(t,e,n={}){if(!t||!e)throw new Error('You have to pass a "target" and "source" object to rehydrate');Object.keys(e).forEach((s=>{const r=e[s],o=n[s];"function"==typeof o&&Array.isArray(t[s])?t[s]=e[s].map((t=>o(t))):"function"==typeof o&&"object"==typeof t[s]&&null!==t[s]&&"Object"===t[s].constructor.name?t[s]=Object.keys(e[s]).reduce(((t,n)=>(t[n]=o(e[s][n]),t)),{}):"function"==typeof o?t[s]=o(e[s]):"object"!=typeof r||Array.isArray(r)||null===r?t[s]=e[s]:(t[s]||(t[s]={}),S(t[s],e[s],n[s]))}))}const k=Symbol("SERIALIZE"),w=(t,e,n={})=>{if(Array.isArray(e)){e.forEach((e=>{const s=e.path.split(e.delimiter),r=s.pop(),o=s.reduce(((t,e)=>t[e]),t),i=s.reduce(((t,e)=>t&&t[e]),n);"set"===e.method?"function"==typeof i&&Array.isArray(e.args[0])?o[r]=e.args[0].map((t=>i(t))):o[r]="function"==typeof i?i(e.args[0]):e.args[0]:"unset"===e.method?delete o[r]:o[r][e.method].apply(o[r],"function"==typeof i?e.args.map((t=>"object"==typeof t&&null!==t?i(t):t)):e.args)}))}else S(t,e,n)};class x{constructor(t){this.safeClassNames=new Set,this.unsafeClassNames=new Set,this.circularReferenceCache=[],this.buffer=[],this.serializer=Promise.resolve(),this.isConnected=!1,this.doReconnect=!1,this.hasWarnedReconnect=!1,this.reconnectInterval=1e4,this.connect=(t,e)=>{t=t||"localhost:3031",this.ws=new WebSocket(`ws://${t}?name=${this.name}`),this.ws.onmessage=t=>{const n=JSON.parse(t.data);n.appName===this.name&&e(n)},this.ws.onopen=()=>{this.isConnected=!0,this.flushBuffer()},this.ws.onerror=()=>{console.error(`OVERMIND DEVTOOLS: Not able to connect. You are trying to connect to "${t}", but there was no devtool there. Try the following:\n        \n          - Make sure you are running the latest version of the devtools, using "npx overmind-devtools@latest" or install latest extension for VSCode\n          - Close the current tab and open a new one\n          - Make sure the correct port is configured in the devtools\n        `)},this.ws.onclose=()=>{this.isConnected=!1,this.doReconnect&&!this.hasWarnedReconnect&&(console.warn("Debugger application is not running on selected port... will reconnect automatically behind the scenes"),this.hasWarnedReconnect=!0),this.doReconnect&&this.reconnect(t,e)}},this.sendMessage=t=>{this.isConnected?this.ws.send(`{"appName":"${this.name}","message":${t}}`):this.buffer.push(t)},this.flushBuffer=()=>E(this,void 0,void 0,(function*(){this.buffer.forEach((t=>{this.sendMessage(t)})),this.buffer.length=0})),this.name="undefined"!=typeof location&&location.search.includes("OVERMIND_DEVTOOL")?t+" (Overmind Devtool)":t}reconnect(t,e){setTimeout((()=>this.connect(t,e)),this.reconnectInterval)}send(t){const e=this.safeClassNames,n=this.unsafeClassNames,s=this.circularReferenceCache;this.sendMessage(JSON.stringify(t,(function(t,r){if("function"==typeof r)return"[Function]";if(this.__CLASS__)return r;if(r&&r[k])return{__CLASS__:!0,name:r.constructor.name,value:r};if("object"==typeof r&&null!==r&&!Array.isArray(r)&&r.constructor&&"Object"!==r.constructor.name){if(s.includes(r))return`[CIRCULAR REFERENCE: ${r.constructor.name}]`;if(s.push(r),!e.has(r.constructor.name)&&!n.has(r.constructor.name))try{JSON.stringify(r),e.add(r.constructor.name)}catch(o){n.add(r.constructor.name)}return e.has(r.constructor.name)?{__CLASS__:!0,name:r.constructor.name,value:r}:`[${r.constructor.name||"NOT SERIALIZABLE"}]`}return r}))),s.length=0}}let A=!1,C=0;const j=Symbol("ORIGIN_TARGET");function P(t,e,n=""){return"object"==typeof(s=t)&&!Array.isArray(s)&&null!==s||"function"==typeof t?new Proxy(t,{apply(t,s,r){const o=C++,i=n.split("."),a=i.pop();return e({func:t.bind(s?s[j]:void 0),effectId:o,name:i.join("."),method:a,args:r})},construct:(t,e)=>(A||(console.warn(`EFFECTS - It is highly recommended to create a custom effect, exposing a method that deals with the instantiation of "${n}". It improves readability and debugability of your app`),A=!0),new t(...e)),get:(t,s)=>s===j?t:P(t[s],e,n?n+"."+s.toString():s.toString())}):t;var s}const R=()=>({actions:t},e)=>{const n=B("onInitializeOvermind",t);return Promise.all(n.map((t=>t(e))))},I=(()=>{let t;try{t="production"}catch(e){console.warn("Overmind was unable to determine the NODE_ENV, which means it will run in DEVELOPMENT mode. If this is a production app, please configure your build tool to define NODE_ENV"),t="development"}return t})(),D="test"===I,M=Symbol("operator"),N=Symbol("origina_actions"),_=Symbol("execution"),L=Symbol("MODE_DEFAULT"),F=Symbol("MODE_TEST"),H=Symbol("MODE_SSR");class V{emit(){}emitAsync(){}on(){}once(){}addListener(){}}function $(t){return t instanceof Promise||t&&"function"==typeof t.then&&"function"==typeof t.catch}function Y(t){return Object.keys(t).reduce(((e,n)=>{if("__esModule"===n)return e;const s=Object.getOwnPropertyDescriptor(t,n);if(s&&"get"in s)return Object.defineProperty(e,n,s),e;const r=t[n];return T(r)?e[n]=Y(r):Object.defineProperty(e,n,s),e}),T(t)?{}:t)}function U(t,e,n=[],s=[]){const r=Object.keys(t),o=Object.keys(e);return r.forEach((t=>{o.includes(t)||s.push({delimiter:".",args:[],path:n.concat(t).join("."),hasChangedValue:!1,method:"unset"})})),o.forEach((r=>{T(t[r])&&T(e[r])?U(t[r],e[r],n.concat(r),s):t[r]!==e[r]&&s.push({delimiter:".",args:[e[r]],path:n.concat(r).join("."),hasChangedValue:!1,method:"set"})})),s}function B(t,e={},n=[]){return Object.keys(e).reduce(((s,r)=>"function"==typeof e[r]&&r===t?s.concat(e[r]):s.concat(B(t,e[r],n.concat(r)))),[])}function G(t={},e=[]){return Object.keys(t).reduce(((n,s)=>"function"==typeof t[s]?n.concat(e.concat(s).join(".")):n.concat(G(t[s],e.concat(s)))),[])}function q(t,e){return new Proxy(t,{get:(n,s)=>s===N?t:"function"==typeof n[s]?e(n[s]):n[s]?q(n[s],e):void 0})}const z={};class W{constructor(t,e={},o={mode:L}){this.actionReferences={},this.nextExecutionId=0,this.reydrateMutationsForHotReloading=[],this.isStrict=!1,this.reaction=(t,e,r={})=>{let o;if(r.nested){const r=t(this.state);if(!r||!r[n])throw new Error('You have to return an object or array from the Overmind state when using a "nested" reaction');const i=r[s];o=this.addFlushListener((t=>{t.forEach((t=>{t.path.startsWith(i)&&e(i?i.split(this.delimiter).reduce(((t,e)=>t[e]),this.state):this.state)}))}))}else{const n=this.proxyStateTreeInstance.getTrackStateTree();let s;const r=()=>{n.trackScope((()=>s=t(n.state)),(()=>{r(),e(s)}))};r(),o=()=>{n.dispose()}}return r.immediate&&e(t(this.state)),o},this.addMutationListener=t=>this.proxyStateTreeInstance.onMutation(t),this.addFlushListener=t=>this.proxyStateTreeInstance.onFlush(t);const i=e.name||"OvermindApp",a=e.devEnv||"development",c="undefined"!=typeof process&&process.title&&process.title.includes("node");if(this.delimiter=e.delimiter||".",this.isStrict=Boolean(e.strict),I===a&&o.mode===L&&!1!==e.hotReloading&&!c){if(z[i])return z[i].reconfigure(t);z[i]=this}const u=o.mode===H?new V:new v,l=this.createProxyStateTree(t,u,o.mode===F||I===a,o.mode===H);if(this.originalConfiguration=t,this.state=l.state,this.effects=t.effects||{},this.proxyStateTreeInstance=l,this.eventHub=u,this.mode=o,this.actions=this.getActions(t.actions),o.mode!==H){if(I===a&&o.mode===L&&"undefined"!=typeof window){let s="OVERMIND: You are running in DEVELOPMENT mode.";if(!0!==e.logProxies){const t=console.log;console.log=(...e)=>t.apply(console,e.map((t=>t&&t[n]?t[r]:t))),s+='\n\n - To improve debugging experience "console.log" will NOT log proxies from Overmind, but the actual value. Please see docs to turn off this behaviour'}if(e.devtools||"undefined"!=typeof location&&"localhost"===location.hostname&&!1!==e.devtools){const n=!0===e.devtools?"localhost:3031":e.devtools,s=e.name?e.name:"undefined"==typeof document?"NoName":document.title||"NoName";this.initializeDevtools(n,s,u,l.sourceState,t.actions)}else!1!==e.devtools&&(s+="\n\n - You are not running on localhost. You will have to manually define the devtools option to connect");D||console.warn(s)}if("production"===I&&o.mode===L){let t;u.on(p.OPERATOR_ASYNC,(t=>{t.parentExecution&&t.parentExecution.isRunning||l.getMutationTree().flush(!0)})),u.on(p.ACTION_END,(t=>{t.parentExecution&&t.parentExecution.isRunning||l.getMutationTree().flush()}));const e=()=>{l.getMutationTree().flush(!0)};this.proxyStateTreeInstance.onMutation((()=>{t&&clearTimeout(t),t=setTimeout(e,0)}))}else o.mode!==L&&o.mode!==F||(("test"===I||this.devtools&&!1!==e.hotReloading)&&u.on(p.MUTATIONS,(t=>{this.reydrateMutationsForHotReloading=this.reydrateMutationsForHotReloading.concat(t.mutations)})),u.on(p.OPERATOR_ASYNC,(t=>{if(!t.parentExecution||!t.parentExecution.isRunning){const e=t.flush(!0);this.devtools&&e.mutations.length&&this.devtools.send({type:"flush",data:Object.assign(Object.assign({},t),e)})}})),u.on(p.ACTION_END,(t=>{if(!t.parentExecution||!t.parentExecution.isRunning){const e=t.flush();this.devtools&&e.mutations.length&&this.devtools.send({type:"flush",data:Object.assign(Object.assign({},t),e)})}})));if(o.mode===L){const t=this.createAction("onInitialize",R());this.initialized=Promise.resolve(t(this))}else this.initialized=Promise.resolve(null)}}createProxyStateTree(t,e,n,s){const r=new d(this.getState(t),{devmode:n&&!s,ssr:s,delimiter:this.delimiter,onSetFunction:(t,e,n,s,r)=>r[y]?new b(r):r,onGetFunction:(t,n,s,o)=>{const i=s[o];if(i[g])return i(e,t,r,n.split(this.delimiter));if(i[y]){const a=new b(i);return s[o]=a,a(e,t,r,n.split(this.delimiter))}return i},onGetter:n?(t,e)=>{this.eventHub.emitAsync(p.GETTER,{path:t,value:e})}:void 0});return r}createExecution(t,e,n){const s=t.split(".");if(s.pop(),"production"===I)return{[_]:!0,parentExecution:n,namespacePath:s,actionName:t,getMutationTree:()=>this.proxyStateTreeInstance.getMutationTree(),getTrackStateTree:()=>this.proxyStateTreeInstance.getTrackStateTree(),emit:this.eventHub.emit.bind(this.eventHub)};const r=[];return{[_]:!0,namespacePath:s,actionId:t,executionId:this.nextExecutionId++,actionName:t,operatorId:0,isRunning:!0,parentExecution:n,path:[],emit:this.eventHub.emit.bind(this.eventHub),send:this.devtools?this.devtools.send.bind(this.devtools):()=>{},trackEffects:this.trackEffects.bind(this,this.effects),getNextOperatorId:(()=>{let t=0;return()=>++t})(),flush:n?n.flush:t=>this.proxyStateTreeInstance.flush(r,t),getMutationTree:n?n.getMutationTree:()=>{const t=this.proxyStateTreeInstance.getMutationTree();return r.push(t),t},getTrackStateTree:()=>this.proxyStateTreeInstance.getTrackStateTree(),onFlush:t=>this.proxyStateTreeInstance.onFlush(t),scopeValue:(t,e)=>this.scopeValue(t,e)}}createContext(t,e){return{state:e.state,actions:q(this.actions,(e=>n=>e(n,t.isRunning?t:null))),execution:t,proxyStateTree:this.proxyStateTreeInstance,effects:this.trackEffects(this.effects,t),addNamespace:this.addNamespace.bind(this),reaction:this.reaction.bind(this),addMutationListener:this.addMutationListener.bind(this),addFlushListener:this.addFlushListener.bind(this)}}addNamespace(t,e,n){const s=n||this.state,r=e.pop();if(t.state){e.reduce(((t,e)=>t[e]),s)[r]=Y(t.state)}if(t.actions){e.reduce(((t,e)=>t[e]),this.actions)[r]=this.getActions(t.actions)}if(t.effects){e.reduce(((t,e)=>t[e]),this.effects)[r]=t.effects}}scopeValue(t,e){return t?t[n]?this.proxyStateTreeInstance.rescope(t,e):T(t)?Object.assign({},...Object.keys(t).map((n=>({[n]:this.proxyStateTreeInstance.rescope(t[n],e)})))):t:t}addExecutionMutation(t){this.mutations.push(t)}createAction(t,e){this.actionReferences[t]=e;return(e,n)=>{const s=this.actionReferences[t];if(n=n&&n[_]?n:void 0,"production"===I||s[M]||this.mode.mode===H){const r=this.createExecution(t,s,n);if(this.eventHub.emit(p.ACTION_START,Object.assign(Object.assign({},r),{value:e})),s[M])return new Promise(((t,n)=>{s(null,Object.assign(Object.assign({},this.createContext(r,this.proxyStateTreeInstance)),{value:e}),((e,s)=>{r.isRunning=!1,s&&this.eventHub.emit(p.ACTION_END,Object.assign(Object.assign({},s.execution),{operatorId:s.execution.operatorId-1})),e?n(e):t(s.value)}))}));{const t=r.getMutationTree();this.isStrict&&t.blockMutations();const n=s(this.createContext(r,t),e);return this.eventHub.emit(p.ACTION_END,r),n}}{const o=Object.assign(Object.assign({},this.createExecution(t,s,n)),{operatorId:0,type:"action"});this.eventHub.emit(p.ACTION_START,Object.assign(Object.assign({},o),{value:e})),this.eventHub.emit(p.OPERATOR_START,o);const i=o.getMutationTree();this.isStrict&&i.blockMutations(),i.onMutation((t=>{this.eventHub.emit(p.MUTATIONS,Object.assign(Object.assign({},o),{mutations:[t]}))}));const a=this.scopeValue(e,i),c=this.createContext(o,i);try{let t;i.onMutation((e=>{t&&clearTimeout(t),this.mode.mode===F?this.addExecutionMutation(e):this.mode.mode===L&&(t=setTimeout((()=>{t=null;const e=o.flush(!0);this.devtools&&e.mutations.length&&this.devtools.send({type:"flush",data:Object.assign(Object.assign(Object.assign({},o),e),{mutations:e.mutations})})})))}));let e=s(c,a);return $(e)?(this.eventHub.emit(p.OPERATOR_ASYNC,o),e=e.then((t=>(o.isRunning=!1,n||i.dispose(),this.eventHub.emit(p.OPERATOR_END,Object.assign(Object.assign({},o),{isAsync:!0,result:void 0})),this.eventHub.emit(p.ACTION_END,o),t))).catch((t=>{throw o.isRunning=!1,n||i.dispose(),this.eventHub.emit(p.OPERATOR_END,Object.assign(Object.assign({},o),{isAsync:!0,result:void 0,error:t.message})),this.eventHub.emit(p.ACTION_END,o),t}))):(o.isRunning=!1,n||i.dispose(),this.eventHub.emit(p.OPERATOR_END,Object.assign(Object.assign({},o),{isAsync:!1,result:void 0})),this.eventHub.emit(p.ACTION_END,o)),e}catch(r){throw this.eventHub.emit(p.OPERATOR_END,Object.assign(Object.assign({},o),{isAsync:!1,result:void 0,error:r.message})),this.eventHub.emit(p.ACTION_END,o),r}}}}trackEffects(t={},e){return"production"===I?t:P(this.effects,(t=>{let n;try{if(this.mode.mode===F){n=this.mode.options.effectsCallback(t)}else this.eventHub.emit(p.EFFECT,Object.assign(Object.assign(Object.assign({},e),t),{args:t.args,isPending:!0,error:!1})),n=t.func.apply(this,t.args)}catch(s){throw this.eventHub.emit(p.EFFECT,Object.assign(Object.assign(Object.assign({},e),t),{args:t.args,isPending:!1,error:s.message})),s}return $(n)?(this.eventHub.emit(p.EFFECT,Object.assign(Object.assign(Object.assign({},e),t),{args:t.args,isPending:!0,error:!1})),n.then((n=>(this.eventHub.emit(p.EFFECT,Object.assign(Object.assign(Object.assign({},e),t),{args:t.args,result:n,isPending:!1,error:!1})),n))).catch((n=>{throw this.eventHub.emit(p.EFFECT,Object.assign(Object.assign(Object.assign({},e),t),{args:t.args,isPending:!1,error:n&&n.message})),n}))):(this.eventHub.emit(p.EFFECT,Object.assign(Object.assign(Object.assign({},e),t),{args:t.args,result:n,isPending:!1,error:!1})),n)}))}initializeDevtools(t,e,n,s,r){if("production"===I)return;const o=new x(e);o.connect(t,(t=>{switch(t.type){case"refresh":location.reload();break;case"executeAction":{const e=t.data.name.split(".").reduce(((t,e)=>t[e]),this.actions);t.data.payload?e(JSON.parse(t.data.payload)):e();break}case"mutation":{const e=this.proxyStateTreeInstance.getMutationTree(),n=t.data.path.slice(),s=JSON.parse(`{ "value": ${t.data.value} }`).value,r=n.pop();n.reduce(((t,e)=>t[e]),e.state)[r]=s,e.flush(!0),e.dispose(),this.devtools.send({type:"state",data:{path:t.data.path,value:s}});break}}}));for(const i in p)n.on(p[i],(t=>e=>{o.send({type:p[i],data:e}),t===p.MUTATIONS&&e.mutations.forEach((t=>{const e=t.path.split(this.delimiter).reduce(((t,e)=>t[e]),this.proxyStateTreeInstance.state);T(e)?Object.keys(e).forEach((t=>e[t])):Array.isArray(e)&&e.forEach((t=>{T(t)&&Object.keys(t).forEach((e=>t[e]))}))})),t===p.DERIVED_DIRTY&&e.derivedPath.reduce(((t,e)=>t[e]),this.proxyStateTreeInstance.state)})(p[i]));o.send({type:"init",data:{state:this.proxyStateTreeInstance.state,actions:G(r),delimiter:this.delimiter}}),this.devtools=o}getState(t){let e={};return t.state&&(e=Y(t.state)),e}getActions(t={},e=[]){return Object.keys(t).reduce(((n,s)=>{if("function"==typeof t[s]){const r=this.createAction(e.concat(s).join("."),t[s]);return r.displayName=e.concat(s).join("."),Object.assign(n,{[s]:r})}return Object.assign(n,{[s]:this.getActions(t[s],e.concat(s))})}),{})}updateActions(t={},e=[]){Object.keys(t).forEach((n=>{if("function"==typeof t[n]){const s=e.concat(n).join(".");if(this.actionReferences[s])this.actionReferences[s]=t[n];else{const r=e.reduce(((t,e)=>(t[e]||(t[e]={}),t[e])),this.actions);r[n]=this.createAction(s,t[n]),r[n].displayName=e.concat(n).join(".")}}else this.updateActions(t[n],e.concat(n))}),{})}getTrackStateTree(){return this.proxyStateTreeInstance.getTrackStateTree()}getMutationTree(){return this.proxyStateTreeInstance.getMutationTree()}reconfigure(t){const e=U(this.originalConfiguration.state,t.state||{});this.updateActions(t.actions),this.effects=t.effects||{};const n=this.proxyStateTreeInstance.getMutationTree();return w(n.state,e),this.reydrateMutationsForHotReloading.forEach((t=>{try{w(n.state,[t])}catch(e){}})),n.flush(),n.dispose(),this.devtools&&this.devtools.send({type:"re_init",data:{state:this.state,actions:G(t.actions)}}),this}}const X=Symbol("OVERMIND"),J="production"===I;let K=0;const Z=t=>({install(e,n=(({state:t,actions:e,effects:n})=>({state:t,actions:e,effects:n}))){e.mixin(function(t,e,n=!1){const s=K++;let r=0;return Object.assign(Object.assign({beforeCreate(){t.mode.mode===H?(this.overmind={state:t.state,actions:t.actions,effects:t.effects,addMutationListener:t.addMutationListener,reaction:t.reaction},e&&Object.assign(this,e({state:t.state,actions:t.actions,effects:t.effects}))):(this[X]={tree:t.proxyStateTreeInstance.getTrackStateTree(),componentInstanceId:r++,onUpdate:(t,e,n)=>{this[X].currentFlushId=n,this[X].isUpdating=!0,this.$forceUpdate()},isUpdating:!1},this.overmind={state:this[X].tree.state,actions:t.actions,effects:t.effects,addMutationListener:t.addMutationListener,reaction:t.reaction},this[X].tree.track(this[X].onUpdate),e&&Object.assign(this,e({state:this[X].tree.state,actions:t.actions,effects:t.effects})))},beforeUpdate(){t.mode.mode!==H&&(this[X].tree.track(this[X].onUpdate),e&&n&&Object.assign(this,e({state:this[X].tree.state,actions:t.actions,effects:t.effects})))}},J?{updated(){this[X].tree.stopTracking()}}:{mounted(){t.mode.mode!==H&&t.eventHub.emitAsync(p.COMPONENT_ADD,{componentId:s,componentInstanceId:this[X].componentInstanceId,name:this.$options.name||"",paths:Array.from(this[X].tree.pathDependencies)})},updated(){t.mode.mode!==H&&(this[X].tree.stopTracking(),this[X].isUpdating&&(t.eventHub.emitAsync(p.COMPONENT_UPDATE,{componentId:s,componentInstanceId:this[X].componentInstanceId,name:this.$options.name||"",flushId:this[X].currentFlushId,paths:Array.from(this[X].tree.pathDependencies)}),this[X].isUpdating=!1))}}),{beforeDestroy(){t.mode.mode!==H&&(t.proxyStateTreeInstance.disposeTree(this[X].tree),J||t.eventHub.emitAsync(p.COMPONENT_REMOVE,{componentId:s,componentInstanceId:this[X].componentInstanceId,name:this.$options.name||""}))}})}(t,n))}});
/*!
    * vue-router v4.0.10
    * (c) 2021 Eduardo San Martin Morote
    * @license MIT
    */
const Q="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,tt=t=>Q?Symbol(t):"_vr_"+t,et=tt("rvlm"),nt=tt("rvd"),st=tt("r"),rt=tt("rl"),ot=tt("rvl"),it="undefined"!=typeof window;const at=Object.assign;function ct(t,e){const n={};for(const s in e){const r=e[s];n[s]=Array.isArray(r)?r.map(t):t(r)}return n}let ut=()=>{};const lt=/\/$/;function ht(t,e,n="/"){let s,r={},o="",i="";const a=e.indexOf("?"),c=e.indexOf("#",a>-1?a:0);return a>-1&&(s=e.slice(0,a),o=e.slice(a+1,c>-1?c:e.length),r=t(o)),c>-1&&(s=s||e.slice(0,c),i=e.slice(c,e.length)),s=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/");let r,o,i=n.length-1;for(r=0;r<s.length;r++)if(o=s[r],1!==i&&"."!==o){if(".."!==o)break;i--}return n.slice(0,i).join("/")+"/"+s.slice(r-(r===s.length?1:0)).join("/")}(null!=s?s:e,n),{fullPath:s+(o&&"?")+o+i,path:s,query:r,hash:i}}function ft(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function dt(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function pt(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(!mt(t[n],e[n]))return!1;return!0}function mt(t,e){return Array.isArray(t)?gt(t,e):Array.isArray(e)?gt(e,t):t===e}function gt(t,e){return Array.isArray(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}var yt,bt,vt,Ot;function Tt(t){if(!t)if(it){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),t.replace(lt,"")}(bt=yt||(yt={})).pop="pop",bt.push="push",(Ot=vt||(vt={})).back="back",Ot.forward="forward",Ot.unknown="";const Et=/^[^#]+#/;function St(t,e){return t.replace(Et,"#")+e}const kt=()=>({left:window.pageXOffset,top:window.pageYOffset});function wt(t){let e;if("el"in t){let n=t.el;const s="string"==typeof n&&n.startsWith("#"),r="string"==typeof n?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=function(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function xt(t,e){return(history.state?history.state.position-e:-1)+t}const At=new Map;function Ct(t,e){const{pathname:n,search:s,hash:r}=e,o=t.indexOf("#");if(o>-1){let e=r.includes(t.slice(o))?t.slice(o).length:1,n=r.slice(e);return"/"!==n[0]&&(n="/"+n),ft(n,"")}return ft(n,t)+s+r}function jt(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?kt():null}}function Pt(t){const{history:e,location:n}=window;let s={value:Ct(t,n)},r={value:e.state};function o(s,o,i){const a=t.indexOf("#"),c=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+s:location.protocol+"//"+location.host+t+s;try{e[i?"replaceState":"pushState"](o,"",c),r.value=o}catch(u){console.error(u),n[i?"replace":"assign"](c)}}return r.value||o(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:s,state:r,push:function(t,n){const i=at({},r.value,e.state,{forward:t,scroll:kt()});o(i.current,i,!0),o(t,at({},jt(s.value,t,null),{position:i.position+1},n),!1),s.value=t},replace:function(t,n){o(t,at({},e.state,jt(r.value.back,t,r.value.forward,!0),n,{position:r.value.position}),!0),s.value=t}}}function Rt(t){return"string"==typeof t||"symbol"==typeof t}const It={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Dt=tt("nf");var Mt,Nt;function _t(t,e){return at(new Error,{type:t,[Dt]:!0},e)}function Lt(t,e){return t instanceof Error&&Dt in t&&(null==e||!!(t.type&e))}(Nt=Mt||(Mt={}))[Nt.aborted=4]="aborted",Nt[Nt.cancelled=8]="cancelled",Nt[Nt.duplicated=16]="duplicated";const Ft="[^/]+?",Ht={sensitive:!1,strict:!1,start:!0,end:!0},Vt=/[.+*?^${}()[\]/\\]/g;function $t(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function Yt(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const t=$t(s[n],r[n]);if(t)return t;n++}return r.length-s.length}const Ut={type:0,value:""},Bt=/[a-zA-Z0-9_]/;function Gt(t,e,n){const s=function(t,e){const n=at({},Ht,e);let s=[],r=n.start?"^":"";const o=[];for(const c of t){const t=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let e=0;e<c.length;e++){const s=c[e];let i=40+(n.sensitive?.25:0);if(0===s.type)e||(r+="/"),r+=s.value.replace(Vt,"\\$&"),i+=40;else if(1===s.type){const{value:t,repeatable:n,optional:u,regexp:l}=s;o.push({name:t,repeatable:n,optional:u});const h=l||Ft;if(h!==Ft){i+=10;try{new RegExp(`(${h})`)}catch(a){throw new Error(`Invalid custom RegExp for param "${t}" (${h}): `+a.message)}}let f=n?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;e||(f=u&&c.length<2?`(?:/${f})`:"/"+f),u&&(f+="?"),r+=f,i+=20,u&&(i+=-8),n&&(i+=-20),".*"===h&&(i+=-50)}t.push(i)}s.push(t)}if(n.strict&&n.end){const t=s.length-1;s[t][s[t].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");return{re:i,score:s,keys:o,parse:function(t){const e=t.match(i),n={};if(!e)return null;for(let s=1;s<e.length;s++){const t=e[s]||"",r=o[s-1];n[r.name]=t&&r.repeatable?t.split("/"):t}return n},stringify:function(e){let n="",s=!1;for(const r of t){s&&n.endsWith("/")||(n+="/"),s=!1;for(const t of r)if(0===t.type)n+=t.value;else if(1===t.type){const{value:o,repeatable:i,optional:a}=t,c=o in e?e[o]:"";if(Array.isArray(c)&&!i)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const u=Array.isArray(c)?c.join("/"):c;if(!u){if(!a)throw new Error(`Missing required param "${o}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):s=!0)}n+=u}}return n}}}(function(t){if(!t)return[[]];if("/"===t)return[[Ut]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${u}": ${t}`)}let n=0,s=n;const r=[];let o;function i(){o&&r.push(o),o=[]}let a,c=0,u="",l="";function h(){u&&(0===n?o.push({type:0,value:u}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:l,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),u="")}function f(){u+=a}for(;c<t.length;)if(a=t[c++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(u&&h(),i()):":"===a?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:"("===a?n=2:Bt.test(a)?f():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&c--);break;case 2:")"===a?"\\"==l[l.length-1]?l=l.slice(0,-1)+a:n=3:l+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&c--,l="";break;default:e("Unknown state")}else s=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${u}"`),h(),i(),r}(t.path),n),r=at(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function qt(t,e){const n=[],s=new Map;function r(t,n,s){let a=!s,c=function(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:zt(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}(t);c.aliasOf=s&&s.record;const u=Jt(e,t),l=[c];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)l.push(at({},c,{components:s?s.record.components:c.components,path:t,aliasOf:s?s.record:c}))}let h,f;for(const e of l){let{path:l}=e;if(n&&"/"!==l[0]){let t=n.record.path,s="/"===t[t.length-1]?"":"/";e.path=n.record.path+(l&&s+l)}if(h=Gt(e,n,u),s?s.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),a&&t.name&&!Wt(h)&&o(t.name)),"children"in c){let t=c.children;for(let e=0;e<t.length;e++)r(t[e],h,s&&s.children[e])}s=s||h,i(h)}return f?()=>{o(f)}:ut}function o(t){if(Rt(t)){const e=s.get(t);e&&(s.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{let e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&s.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function i(t){let e=0;for(;e<n.length&&Yt(t,n[e])>=0;)e++;n.splice(e,0,t),t.record.name&&!Wt(t)&&s.set(t.record.name,t)}return e=Jt({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>r(t))),{addRoute:r,resolve:function(t,e){let r,o,i,a={};if("name"in t&&t.name){if(r=s.get(t.name),!r)throw _t(1,{location:t});i=r.record.name,a=at(function(t,e){let n={};for(let s of e)s in t&&(n[s]=t[s]);return n}(e.params,r.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params),o=r.stringify(a)}else if("path"in t)o=t.path,r=n.find((t=>t.re.test(o))),r&&(a=r.parse(o),i=r.record.name);else{if(r=e.name?s.get(e.name):n.find((t=>t.re.test(e.path))),!r)throw _t(1,{location:t,currentLocation:e});i=r.record.name,a=at({},e.params,t.params),o=r.stringify(a)}const c=[];let u=r;for(;u;)c.unshift(u.record),u=u.parent;return{name:i,path:o,params:a,matched:c,meta:Xt(c)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(t){return s.get(t)}}}function zt(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(let s in t.components)e[s]="boolean"==typeof n?n:n[s];return e}function Wt(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Xt(t){return t.reduce(((t,e)=>at(t,e.meta)),{})}function Jt(t,e){let n={};for(let s in t)n[s]=s in e?e[s]:t[s];return n}const Kt=/#/g,Zt=/&/g,Qt=/\//g,te=/=/g,ee=/\?/g,ne=/\+/g,se=/%5B/g,re=/%5D/g,oe=/%5E/g,ie=/%60/g,ae=/%7B/g,ce=/%7C/g,ue=/%7D/g,le=/%20/g;function he(t){return encodeURI(""+t).replace(ce,"|").replace(se,"[").replace(re,"]")}function fe(t){return he(t).replace(ne,"%2B").replace(le,"+").replace(Kt,"%23").replace(Zt,"%26").replace(ie,"`").replace(ae,"{").replace(ue,"}").replace(oe,"^")}function de(t){return function(t){return he(t).replace(Kt,"%23").replace(ee,"%3F")}(t).replace(Qt,"%2F")}function pe(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function me(t){const e={};if(""===t||"?"===t)return e;const n=("?"===t[0]?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const t=n[s].replace(ne," ");let r=t.indexOf("="),o=pe(r<0?t:t.slice(0,r)),i=r<0?null:pe(t.slice(r+1));if(o in e){let t=e[o];Array.isArray(t)||(t=e[o]=[t]),t.push(i)}else e[o]=i}return e}function ge(t){let e="";for(let n in t){const s=t[n];if(n=fe(n).replace(te,"%3D"),null==s){void 0!==s&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(s)?s.map((t=>t&&fe(t))):[s&&fe(s)]).forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function ye(t){const e={};for(let n in t){let s=t[n];void 0!==s&&(e[n]=Array.isArray(s)?s.map((t=>null==t?null:""+t)):null==s?s:""+s)}return e}function be(){let t=[];return{add:function(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},list:()=>t,reset:function(){t=[]}}}function ve(t,e,n,s,r){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise(((i,a)=>{const c=t=>{var c;!1===t?a(_t(4,{from:n,to:e})):t instanceof Error?a(t):"string"==typeof(c=t)||c&&"object"==typeof c?a(_t(2,{from:e,to:t})):(o&&s.enterCallbacks[r]===o&&"function"==typeof t&&o.push(t),i())},u=t.call(s&&s.instances[r],e,n,c);let l=Promise.resolve(u);t.length<3&&(l=l.then(c)),l.catch((t=>a(t)))}))}function Oe(t,e,n,s){const r=[];for(const i of t)for(const t in i.components){let a=i.components[t];if("beforeRouteEnter"===e||i.instances[t])if("object"==typeof(o=a)||"displayName"in o||"props"in o||"__vccOpts"in o){const o=(a.__vccOpts||a)[e];o&&r.push(ve(o,n,s,i,t))}else{let o=a();r.push((()=>o.then((r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${i.path}"`));const o=(a=r).__esModule||Q&&"Module"===a[Symbol.toStringTag]?r.default:r;var a;i.components[t]=o;const c=(o.__vccOpts||o)[e];return c&&ve(c,n,s,i,t)()}))))}}var o;return r}function Te(e){const n=t.inject(st),s=t.inject(rt),r=t.computed((()=>n.resolve(t.unref(e.to)))),o=t.computed((()=>{let{matched:t}=r.value,{length:e}=t;const n=t[e-1];let o=s.matched;if(!n||!o.length)return-1;let i=o.findIndex(dt.bind(null,n));if(i>-1)return i;let a=Se(t[e-2]);return e>1&&Se(n)===a&&o[o.length-1].path!==a?o.findIndex(dt.bind(null,t[e-2])):i})),i=t.computed((()=>o.value>-1&&function(t,e){for(let n in e){let s=e[n],r=t[n];if("string"==typeof s){if(s!==r)return!1}else if(!Array.isArray(r)||r.length!==s.length||s.some(((t,e)=>t!==r[e])))return!1}return!0}(s.params,r.value.params))),a=t.computed((()=>o.value>-1&&o.value===s.matched.length-1&&pt(s.params,r.value.params)));return{route:r,href:t.computed((()=>r.value.href)),isActive:i,isExactActive:a,navigate:function(s={}){return function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(s)?n[t.unref(e.replace)?"replace":"push"](t.unref(e.to)).catch(ut):Promise.resolve()}}}const Ee=t.defineComponent({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Te,setup(e,{slots:n}){const s=t.reactive(Te(e)),{options:r}=t.inject(st),o=t.computed((()=>({[ke(e.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[ke(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive})));return()=>{const r=n.default&&n.default(s);return e.custom?r:t.h("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:o.value},r)}}});function Se(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ke=(t,e,n)=>null!=t?t:null!=e?e:n;function we(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const xe=t.defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:n,slots:s}){const r=t.inject(ot),o=t.computed((()=>e.route||r.value)),i=t.inject(nt,0),a=t.computed((()=>o.value.matched[i]));t.provide(nt,i+1),t.provide(et,a),t.provide(ot,o);const c=t.ref();return t.watch((()=>[c.value,a.value,e.name]),(([t,e,n],[s,r,o])=>{e&&(e.instances[n]=t,r&&r!==e&&t&&t===s&&(e.leaveGuards.size||(e.leaveGuards=r.leaveGuards),e.updateGuards.size||(e.updateGuards=r.updateGuards))),!t||!e||r&&dt(e,r)&&s||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const r=o.value,i=a.value,u=i&&i.components[e.name],l=e.name;if(!u)return we(s.default,{Component:u,route:r});const h=i.props[e.name],f=h?!0===h?r.params:"function"==typeof h?h(r):h:null,d=t.h(u,at({},f,n,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(i.instances[l]=null)},ref:c}));return we(s.default,{Component:d,route:r})||d}}});function Ae(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}const Ce=function(e){const n=qt(e.routes,e);let s=e.parseQuery||me,r=e.stringifyQuery||ge,o=e.history;const i=be(),a=be(),c=be(),u=t.shallowRef(It);let l=It;it&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=ct.bind(null,(t=>""+t)),f=ct.bind(null,de),d=ct.bind(null,pe);function p(t,e){if(e=at({},e||u.value),"string"==typeof t){let r=ht(s,t,e.path),i=n.resolve({path:r.path},e),a=o.createHref(r.fullPath);return at(r,i,{params:d(i.params),hash:pe(r.hash),redirectedFrom:void 0,href:a})}let i;"path"in t?i=at({},t,{path:ht(s,t.path,e.path).path}):(i=at({},t,{params:f(t.params)}),e.params=f(e.params));let a=n.resolve(i,e);const c=t.hash||"";a.params=h(d(a.params));const l=function(t,e){let n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}(r,at({},t,{hash:(p=c,he(p).replace(ae,"{").replace(ue,"}").replace(oe,"^")),path:a.path}));var p;let m=o.createHref(l);return at({fullPath:l,hash:c,query:r===ge?ye(t.query):t.query},a,{redirectedFrom:void 0,href:m})}function m(t){return"string"==typeof t?ht(s,t,u.value.path):at({},t)}function g(t,e){if(l!==t)return _t(8,{from:e,to:t})}function y(t){return v(t)}function b(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let s="function"==typeof n?n(t):n;return"string"==typeof s&&(s=s.includes("?")||s.includes("#")?s=m(s):{path:s},s.params={}),at({query:t.query,hash:t.hash,params:t.params},s)}}function v(t,e){const n=l=p(t),s=u.value,o=t.state,i=t.force,a=!0===t.replace,c=b(n);if(c)return v(at(m(c),{state:o,force:i,replace:a}),e||n);const h=n;let f;return h.redirectedFrom=e,!i&&function(t,e,n){let s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&dt(e.matched[s],n.matched[r])&&pt(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}(r,s,n)&&(f=_t(16,{to:h,from:s}),R(s,s,!0,!1)),(f?Promise.resolve(f):T(h,s)).catch((t=>Lt(t)?t:j(t,h,s))).then((t=>{if(t){if(Lt(t,2))return v(at(m(t.to),{state:o,force:i,replace:a}),e||h)}else t=S(h,s,!0,a,o);return E(h,s,t),t}))}function O(t,e){const n=g(t,e);return n?Promise.reject(n):Promise.resolve()}function T(t,e){let n;const[s,r,o]=function(t,e){const n=[],s=[],r=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const o=e.matched[i];o&&(t.matched.find((t=>dt(t,o)))?s.push(o):n.push(o));const a=t.matched[i];a&&(e.matched.find((t=>dt(t,a)))||r.push(a))}return[n,s,r]}(t,e);n=Oe(s.reverse(),"beforeRouteLeave",t,e);for(const i of s)i.leaveGuards.forEach((s=>{n.push(ve(s,t,e))}));const c=O.bind(null,t,e);return n.push(c),Ae(n).then((()=>{n=[];for(const s of i.list())n.push(ve(s,t,e));return n.push(c),Ae(n)})).then((()=>{n=Oe(r,"beforeRouteUpdate",t,e);for(const s of r)s.updateGuards.forEach((s=>{n.push(ve(s,t,e))}));return n.push(c),Ae(n)})).then((()=>{n=[];for(const s of t.matched)if(s.beforeEnter&&!e.matched.includes(s))if(Array.isArray(s.beforeEnter))for(const r of s.beforeEnter)n.push(ve(r,t,e));else n.push(ve(s.beforeEnter,t,e));return n.push(c),Ae(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=Oe(o,"beforeRouteEnter",t,e),n.push(c),Ae(n)))).then((()=>{n=[];for(const s of a.list())n.push(ve(s,t,e));return n.push(c),Ae(n)})).catch((t=>Lt(t,8)?t:Promise.reject(t)))}function E(t,e,n){for(const s of c.list())s(t,e,n)}function S(t,e,n,s,r){const i=g(t,e);if(i)return i;const a=e===It,c=it?history.state:{};n&&(s||a?o.replace(t.fullPath,at({scroll:a&&c&&c.scroll},r)):o.push(t.fullPath,r)),u.value=t,R(t,e,n,a),P()}let k;function w(){k=o.listen(((t,e,n)=>{let s=p(t);const r=b(s);if(r)return void v(at(r,{replace:!0}),s).catch(ut);l=s;const i=u.value;var a,c;it&&(a=xt(i.fullPath,n.delta),c=kt(),At.set(a,c)),T(s,i).catch((t=>Lt(t,12)?t:Lt(t,2)?(v(t.to,s).then((t=>{Lt(t,20)&&!n.delta&&n.type===yt.pop&&o.go(-1,!1)})).catch(ut),Promise.reject()):(n.delta&&o.go(-n.delta,!1),j(t,s,i)))).then((t=>{(t=t||S(s,i,!1))&&(n.delta?o.go(-n.delta,!1):n.type===yt.pop&&Lt(t,20)&&o.go(-1,!1)),E(s,i,t)})).catch(ut)}))}let x,A=be(),C=be();function j(t,e,n){P(t);const s=C.list();return s.length?s.forEach((s=>s(t,e,n))):console.error(t),Promise.reject(t)}function P(t){x||(x=!0,w(),A.list().forEach((([e,n])=>t?n(t):e())),A.reset())}function R(n,s,r,o){const{scrollBehavior:i}=e;if(!it||!i)return Promise.resolve();let a=!r&&function(t){const e=At.get(t);return At.delete(t),e}(xt(n.fullPath,0))||(o||!r)&&history.state&&history.state.scroll||null;return t.nextTick().then((()=>i(n,s,a))).then((t=>t&&wt(t))).catch((t=>j(t,n,s)))}const I=t=>o.go(t);let D;const M=new Set;return{currentRoute:u,addRoute:function(t,e){let s,r;return Rt(t)?(s=n.getRecordMatcher(t),r=e):r=t,n.addRoute(r,s)},removeRoute:function(t){let e=n.getRecordMatcher(t);e&&n.removeRoute(e)},hasRoute:function(t){return!!n.getRecordMatcher(t)},getRoutes:function(){return n.getRoutes().map((t=>t.record))},resolve:p,options:e,push:y,replace:function(t){return y(at(m(t),{replace:!0}))},go:I,back:()=>I(-1),forward:()=>I(1),beforeEach:i.add,beforeResolve:a.add,afterEach:c.add,onError:C.add,isReady:function(){return x&&u.value!==It?Promise.resolve():new Promise(((t,e)=>{A.add([t,e])}))},install(e){e.component("RouterLink",Ee),e.component("RouterView",xe),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>t.unref(u)}),it&&!D&&u.value===It&&(D=!0,y(o.location).catch((t=>{})));const n={};for(let r in It)n[r]=t.computed((()=>u.value[r]));e.provide(st,this),e.provide(rt,t.reactive(n)),e.provide(ot,u);let s=e.unmount;M.add(e),e.unmount=function(){M.delete(e),M.size<1&&(k(),u.value=It,D=!1,x=!1),s()}}}}({history:function(t){const e=Pt(t=Tt(t)),n=function(t,e,n,s){let r=[],o=[],i=null;const a=({state:o})=>{const a=Ct(t,location),c=n.value,u=e.value;let l=0;if(o){if(n.value=a,e.value=o,i&&i===c)return void(i=null);l=u?o.position-u.position:0}else s(a);r.forEach((t=>{t(n.value,c,{delta:l,type:yt.pop,direction:l?l>0?vt.forward:vt.back:vt.unknown})}))};function c(){const{history:t}=window;t.state&&t.replaceState(at({},t.state,{scroll:kt()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c),{pauseListeners:function(){i=n.value},listen:function(t){r.push(t);const e=()=>{const e=r.indexOf(t);e>-1&&r.splice(e,1)};return o.push(e),e},destroy:function(){for(const t of o)t();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}}}(t,e.state,e.location,e.replace),s=at({location:"",base:t,go:function(t,e=!0){e||n.pauseListeners(),history.go(t)},createHref:St.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}(),routes:[{path:"/",component:{template:"<div><br>Login</div>"},props:!0},{path:"/home",component:"<div><h1>HOME</h1></div>",props:!0},{path:"/404",component:{template:"<h1>404</h1>"}},{path:"/:table",component:"<div><h1>TABLE</h1></div>"},{path:"/:table/:id",component:"<div><h1>FORM</h1></div>"}]});class je{constructor(t){void 0===t||import(resolve(t)).then((t=>{console.log(t)}))}loadRoutes(){}loadEvents(){}loadClient(){}loadCustomComponents(){}}return{install:function(t,e){const n=function(t,e){return new W(t,e,{mode:L})}(r),s=Z(n);t.use(s),t.use(Ce);const r=new je}}}));
