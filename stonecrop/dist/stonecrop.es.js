import{shallowRef as t,unref as e,computed as n,reactive as s,nextTick as r,defineComponent as o,inject as i,h as a,provide as c,ref as u,watch as l}from"vue";const h=(()=>{let t;try{t="production"}catch(e){t="development"}return t})(),f=Symbol("IS_PROXY"),d=Symbol("PATH"),p=Symbol("VALUE"),m=Symbol("PROXY_TREE"),g=new Set(["push","shift","pop","unshift","splice","reverse","sort","copyWithin"]),y=t=>t&&t[f]?t[p]:t,b=t=>"object"==typeof t&&null!==t&&!Array.isArray(t)&&"Object"!==t.constructor.name&&Object.isExtensible(t),v=t=>void 0!==t&&(!b(t)||b(t)&&!(t instanceof Date)&&!(t instanceof Map)&&!(t instanceof Set));class O{constructor(t){this.tree=t,this.CACHED_PROXY=Symbol("CACHED_PROXY"),this.delimiter=t.master.options.delimiter,this.ssr=Boolean(t.master.options.ssr)}concat(t,e){return t?t+this.delimiter+e:e}ensureMutationTrackingIsEnabled(t){if("production"!==h&&this.tree.master.options.devmode&&!this.tree.canMutate())throw new Error(`proxy-state-tree - You are mutating the path "${t}", but it is not allowed. The following could have happened:\n        \n        - The mutation is explicitly being blocket\n        - You are passing state to a 3rd party tool trying to manipulate the state\n        - You are running asynchronous code and forgot to "await" its execution\n        `)}isDefaultProxifier(){return this.tree.proxifier===this.tree.master.proxifier}ensureValueDosntExistInStateTreeElsewhere(t){if("production"!==h){if(t&&!0===t[f])throw new Error(`proxy-state-tree - You are trying to insert a value that already exists in the state tree on path "${t[d]}"`);return t}}trackPath(t){if(this.tree.canTrack())if(this.isDefaultProxifier()){const e=this.tree.master.currentTree;if(!e)return;e.addTrackingPath(t)}else this.tree.addTrackingPath(t)}getTrackingTree(){return this.tree.master.currentTree&&this.isDefaultProxifier()?this.tree.master.currentTree:this.tree.canTrack()&&this.tree.canTrack()?this.tree:null}getMutationTree(){return this.tree.master.mutationTree||this.tree}isProxyCached(t,e){return t[this.CACHED_PROXY]&&String(t[this.CACHED_PROXY][d])===String(e)}createArrayProxy(t,e){if(!this.ssr&&this.isProxyCached(t,e))return t[this.CACHED_PROXY];const n=this,s=new Proxy(t,{get(s,r){if(r===f)return!0;if(r===d)return e;if(r===p)return t;if("indexOf"===r)return(e,n)=>t.indexOf(y(e),y(n));if("length"===r||"function"==typeof s[r]&&!g.has(String(r))||"symbol"==typeof r)return s[r];const o=n.getTrackingTree(),i=n.concat(e,r),a=o||n.tree;o&&o.proxifier.trackPath(i),a.trackPathListeners.forEach((t=>t(i)));const c=String(r);return g.has(c)?(...t)=>{const o=n.getMutationTree();let i;return i="production"===h?s[r](...t):s[r](...t.map((t=>n.ensureValueDosntExistInStateTreeElsewhere(t)))),o.addMutation({method:c,path:e,delimiter:n.delimiter,args:t,hasChangedValue:!0}),i}:v(s[r])?n.proxify(s[r],i):s[r]},set(t,s,r){const o=n.concat(e,s),i=n.getMutationTree(),a=Reflect.set(t,s,r);return i.addMutation({method:"set",path:o,args:[r],delimiter:n.delimiter,hasChangedValue:!0}),a}});return this.ssr||Object.defineProperty(t,this.CACHED_PROXY,{value:s,configurable:!0}),s}createObjectProxy(t,e){if(!this.ssr&&this.isProxyCached(t,e))return t[this.CACHED_PROXY];const n=this,s=new Proxy(t,{get(r,o){if(o===f)return!0;if(o===d)return e;if(o===p)return t;if(o===m)return n.tree;if("symbol"==typeof o||o in Object.prototype)return r[o];const i=Object.getOwnPropertyDescriptor(r,o)||Object.getPrototypeOf(r)&&Object.getOwnPropertyDescriptor(Object.getPrototypeOf(r),o);if(i&&"get"in i){const t=i.get.call(s);return n.tree.master.options.devmode&&n.tree.master.options.onGetter&&n.tree.master.options.onGetter(n.concat(e,o),t),t}const a=n.getTrackingTree(),c=r[o],u=n.concat(e,o),l=a||n.tree;return"function"==typeof c?n.tree.master.options.onGetFunction?n.tree.master.options.onGetFunction(a||n.tree,u,r,o):b(r)?c:c.call(r,n.tree,u):(l.trackPathListeners.forEach((t=>t(u))),a&&a.proxifier.trackPath(u),v(c)?n.proxify(c,u):c)},set(t,s,r){const o=n.concat(e,s);let i;s in t||(i=e);const a=n.getMutationTree(),c=t[s];"function"==typeof r&&n.tree.master.options.onSetFunction&&(r=n.tree.master.options.onSetFunction(n.getTrackingTree()||n.tree,o,t,s,r));const u=c!==r,l=Reflect.set(t,s,r);return a.addMutation({method:"set",path:o,args:[r],delimiter:n.delimiter,hasChangedValue:u},i),l},deleteProperty(t,s){const r=n.concat(e,s);let o;s in t&&(o=e);const i=n.getMutationTree();return delete t[s],i.addMutation({method:"unset",path:r,args:[],delimiter:n.delimiter,hasChangedValue:!0},o),!0}});return this.ssr||Object.defineProperty(t,this.CACHED_PROXY,{value:s,configurable:!0}),s}proxify(t,e){if(t){if(t[f]&&(String(t[d])!==String(e)||t[p][this.CACHED_PROXY]!==t))return this.proxify(t[p],e);if(t[f])return t;if(Array.isArray(t))return this.createArrayProxy(t,e);if((t=>"[object Object]"===String(t)&&"Object"===t.constructor.name)(t)||b(t))return this.createObjectProxy(t,e)}return t}}class T{constructor(t,e){this.mutationCallbacks=[],this.mutations=[],this.objectChanges=new Set,this.isTracking=!1,this.isBlocking=!1,this.trackPathListeners=[],this.isTracking=!0,this.master=t,this.proxifier=e||new O(this),this.state=this.proxifier.proxify(t.sourceState,"")}trackPaths(){const t=new Set,e=e=>{t.add(e)};return this.trackPathListeners.push(e),()=>(this.trackPathListeners.splice(this.trackPathListeners.indexOf(e),1),t)}getMutations(){const t=this.mutations.slice();return this.mutations.length=0,t}getObjectChanges(){const t=new Set([...this.objectChanges]);return this.objectChanges.clear(),t}addMutation(t,e){const n=this.master.currentFlushId;this.mutations.push(t),e&&this.objectChanges.add(e);for(const s of this.master.mutationCallbacks)s(t,new Set(e?[t.path,e]:[t.path]),n);for(const s of this.mutationCallbacks)s(t,new Set(e?[t.path,e]:[t.path]),n)}flush(t=!1){return this.master.flush(this,t)}onMutation(t){this.mutationCallbacks.push(t)}canMutate(){return this.isTracking&&!this.isBlocking}canTrack(){return!1}blockMutations(){this.isBlocking=!0}enableMutations(){this.isBlocking=!1}dispose(){return this.isTracking=!1,this.mutationCallbacks.length=0,this.proxifier=this.master.proxifier,this}}class E{constructor(t){this.pathDependencies=new Set,this.shouldTrack=!1,this.trackPathListeners=[],this.master=t,this.proxifier=t.proxifier,this.state=t.state}trackPaths(){const t=new Set,e=e=>{t.add(e)};return this.trackPathListeners.push(e),()=>(this.trackPathListeners.splice(this.trackPathListeners.indexOf(e),1),t)}canMutate(){return!1}canTrack(){return!0}addTrackingPath(t){this.shouldTrack&&(this.pathDependencies.add(t),this.callback&&this.master.addPathDependency(t,this.callback))}track(t){return this.master.changeTrackStateTree(this),this.shouldTrack=!0,this.clearTracking(),t&&(this.callback=(...e)=>{this.callback&&t(...e)}),this}clearTracking(){if(this.callback)for(const t of this.pathDependencies)this.master.removePathDependency(t,this.callback);this.pathDependencies.clear()}stopTracking(){this.shouldTrack=!1}trackScope(t,e){const n=this.master.previousTree,s=this.master.currentTree;this.master.currentTree=this,this.track(e);const r=t(this);return this.master.currentTree=s,this.master.previousTree=n,this.stopTracking(),r}dispose(){return this.callback?(this.clearTracking(),this.callback=null,this.proxifier=this.master.proxifier,this.master.currentTree===this&&(this.master.currentTree=null),this):(this.pathDependencies.clear(),this)}}class S{constructor(t,e={}){this.cache={mutationTree:[],trackStateTree:[]},this.flushCallbacks=[],this.mutationCallbacks=[],this.currentFlushId=0,this.pathDependencies={},void 0===e.devmode&&(e.devmode=!0),e.delimiter||(e.delimiter="."),this.master=this,this.sourceState=t,this.options=e,this.createTrackStateProxifier()}createTrackStateProxifier(){const t=new E(this);this.proxifier=t.proxifier=new O(t),this.state=t.state=this.proxifier.proxify(this.sourceState,"")}getMutationTree(){if(!this.options.devmode)return this.mutationTree=this.mutationTree||new T(this,this.proxifier);return this.cache.mutationTree.pop()||new T(this)}getTrackStateTree(){return this.cache.trackStateTree.pop()||new E(this)}getTrackStateTreeWithProxifier(){const t=this.getTrackStateTree();return this.options.ssr?t.state=this.sourceState:(t.proxifier=new O(t),t.state=t.proxifier.proxify(this.sourceState,"")),t}changeTrackStateTree(t){this.previousTree=this.currentTree,this.currentTree=t}disposeTree(t){t instanceof T?this.cache.mutationTree.push(t.dispose()):t instanceof E&&this.cache.trackStateTree.push(t.dispose())}onMutation(t){return this.mutationCallbacks.push(t),()=>{this.mutationCallbacks.splice(this.mutationCallbacks.indexOf(t),1)}}forceFlush(){const t=[],e=[];for(const n in this.pathDependencies){this.pathDependencies[n].forEach((n=>{n(t,e,this.currentFlushId++,!1)}))}}flush(t,e=!1){let n;if(n=Array.isArray(t)?t.reduce(((t,e)=>({mutations:t.mutations.concat(e.getMutations()),objectChanges:new Set([...t.objectChanges,...e.getObjectChanges()])})),{mutations:[],objectChanges:new Set}):{mutations:t.getMutations(),objectChanges:t.getObjectChanges()},!n.mutations.length&&!n.objectChanges.size)return{mutations:[],flushId:null};const s=new Set,r=new Set,o=this.currentFlushId++;for(const c of n.objectChanges)this.pathDependencies[c]&&s.add(c);for(const c of n.mutations)c.hasChangedValue&&s.add(c.path);const i=Array.from(s).sort();for(const c of i)if(this.pathDependencies[c])for(const t of this.pathDependencies[c])r.add(t);for(const c of r)c(n.mutations,i,o,e);const a=this.flushCallbacks.slice();for(const c of a)this.flushCallbacks.includes(c)&&c(n.mutations,i,o,e);return s.clear(),r.clear(),{mutations:n.mutations,flushId:o}}onFlush(t){return this.flushCallbacks.push(t),()=>this.flushCallbacks.splice(this.flushCallbacks.indexOf(t),1)}rescope(t,e){return t&&t[f]?e.proxifier.proxify(t[p],t[d]):t}addPathDependency(t,e){this.pathDependencies[t]||(this.pathDependencies[t]=new Set),this.pathDependencies[t].add(e)}removePathDependency(t,e){this.pathDependencies[t].delete(e),this.pathDependencies[t].size||delete this.pathDependencies[t]}toJSON(){return this.sourceState}}var k,w;(w=k||(k={})).ACTION_START="action:start",w.ACTION_END="action:end",w.OPERATOR_START="operator:start",w.OPERATOR_END="operator:end",w.OPERATOR_ASYNC="operator:async",w.MUTATIONS="mutations",w.EFFECT="effect",w.DERIVED="derived",w.DERIVED_DIRTY="derived:dirty",w.COMPONENT_ADD="component:add",w.COMPONENT_UPDATE="component:update",w.COMPONENT_REMOVE="component:remove",w.GETTER="getter";const x=Symbol("IS_DERIVED"),A=Symbol("IS_DERIVED_CONSTRUCTOR");class C{constructor(t){this.cb=t,this.isDirty=!0,this.updateCount=0;const e=this.evaluate.bind(this);return e[x]=!0,e}runScope(t,e){const n=e.slice(0,e.length-1).reduce(((t,e)=>t[e]),t.state);return this.cb(n,t.state)}evaluate(t,e,n,s){if(this.disposeOnMutation||(this.disposeOnMutation=n.onMutation(((e,r,o)=>{if("function"==typeof s.reduce(((t,e)=>t&&t[e]),n.sourceState)){if(!this.isDirty)for(const n of r)if(this.paths.has(n))return this.isDirty=!0,void t.emitAsync(k.DERIVED_DIRTY,{derivedPath:s,path:n,flushId:o})}else this.disposeOnMutation()}))),this.isDirty||this.previousProxifier!==e.proxifier){const t=e.trackPaths();this.value=this.runScope(e,s),this.isDirty=!1,this.paths=t()}if(e instanceof E)for(const r of this.paths)e.addTrackingPath(r),e.trackPathListeners.forEach((t=>t(r)));return this.previousProxifier=e.proxifier,this.value&&this.value[f]?n.rescope(this.value,e):this.value}}var P=function(){function t(){this.events=new Map}return t.prototype.emit=function(t,e){for(var n=this.events.get(t)||[],s=n.length-1;s>=0;s--){var r=n[s];r.cb(e),r.once&&n.splice(s,1)}},t.prototype.emitAsync=function(t,e){var n=this.events.get(t)||[];setTimeout((function(){for(var t=n.length-1;t>=0;t--){var s=n[t];s.cb(e),s.once&&n.splice(t,1)}}))},t.prototype.on=function(t,e){this.addListener(t,e,!1)},t.prototype.once=function(t,e){this.addListener(t,e,!0)},t.prototype.addListener=function(t,e,n){var s=this.events.get(t)||[];s.push({once:n,cb:e}),this.events.set(t,s)},t}(),R=Object.prototype.toString,j=function(t){var e;return"[object Object]"===R.call(t)&&(null===(e=Object.getPrototypeOf(t))||e===Object.getPrototypeOf({}))};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function I(t,e,n,s){return new(n||(n=Promise))((function(r,o){function i(t){try{c(s.next(t))}catch(e){o(e)}}function a(t){try{c(s.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}c((s=s.apply(t,e||[])).next())}))}function D(t,e,n={}){if(!t||!e)throw new Error('You have to pass a "target" and "source" object to rehydrate');Object.keys(e).forEach((s=>{const r=e[s],o=n[s];"function"==typeof o&&Array.isArray(t[s])?t[s]=e[s].map((t=>o(t))):"function"==typeof o&&"object"==typeof t[s]&&null!==t[s]&&"Object"===t[s].constructor.name?t[s]=Object.keys(e[s]).reduce(((t,n)=>(t[n]=o(e[s][n]),t)),{}):"function"==typeof o?t[s]=o(e[s]):"object"!=typeof r||Array.isArray(r)||null===r?t[s]=e[s]:(t[s]||(t[s]={}),D(t[s],e[s],n[s]))}))}const M=Symbol("SERIALIZE"),N=(t,e,n={})=>{if(Array.isArray(e)){e.forEach((e=>{const s=e.path.split(e.delimiter),r=s.pop(),o=s.reduce(((t,e)=>t[e]),t),i=s.reduce(((t,e)=>t&&t[e]),n);"set"===e.method?"function"==typeof i&&Array.isArray(e.args[0])?o[r]=e.args[0].map((t=>i(t))):o[r]="function"==typeof i?i(e.args[0]):e.args[0]:"unset"===e.method?delete o[r]:o[r][e.method].apply(o[r],"function"==typeof i?e.args.map((t=>"object"==typeof t&&null!==t?i(t):t)):e.args)}))}else D(t,e,n)};class _{constructor(t){this.safeClassNames=new Set,this.unsafeClassNames=new Set,this.circularReferenceCache=[],this.buffer=[],this.serializer=Promise.resolve(),this.isConnected=!1,this.doReconnect=!1,this.hasWarnedReconnect=!1,this.reconnectInterval=1e4,this.connect=(t,e)=>{t=t||"localhost:3031",this.ws=new WebSocket(`ws://${t}?name=${this.name}`),this.ws.onmessage=t=>{const n=JSON.parse(t.data);n.appName===this.name&&e(n)},this.ws.onopen=()=>{this.isConnected=!0,this.flushBuffer()},this.ws.onerror=()=>{console.error(`OVERMIND DEVTOOLS: Not able to connect. You are trying to connect to "${t}", but there was no devtool there. Try the following:\n        \n          - Make sure you are running the latest version of the devtools, using "npx overmind-devtools@latest" or install latest extension for VSCode\n          - Close the current tab and open a new one\n          - Make sure the correct port is configured in the devtools\n        `)},this.ws.onclose=()=>{this.isConnected=!1,this.doReconnect&&!this.hasWarnedReconnect&&(console.warn("Debugger application is not running on selected port... will reconnect automatically behind the scenes"),this.hasWarnedReconnect=!0),this.doReconnect&&this.reconnect(t,e)}},this.sendMessage=t=>{this.isConnected?this.ws.send(`{"appName":"${this.name}","message":${t}}`):this.buffer.push(t)},this.flushBuffer=()=>I(this,void 0,void 0,(function*(){this.buffer.forEach((t=>{this.sendMessage(t)})),this.buffer.length=0})),this.name="undefined"!=typeof location&&location.search.includes("OVERMIND_DEVTOOL")?t+" (Overmind Devtool)":t}reconnect(t,e){setTimeout((()=>this.connect(t,e)),this.reconnectInterval)}send(t){const e=this.safeClassNames,n=this.unsafeClassNames,s=this.circularReferenceCache;this.sendMessage(JSON.stringify(t,(function(t,r){if("function"==typeof r)return"[Function]";if(this.__CLASS__)return r;if(r&&r[M])return{__CLASS__:!0,name:r.constructor.name,value:r};if("object"==typeof r&&null!==r&&!Array.isArray(r)&&r.constructor&&"Object"!==r.constructor.name){if(s.includes(r))return`[CIRCULAR REFERENCE: ${r.constructor.name}]`;if(s.push(r),!e.has(r.constructor.name)&&!n.has(r.constructor.name))try{JSON.stringify(r),e.add(r.constructor.name)}catch(o){n.add(r.constructor.name)}return e.has(r.constructor.name)?{__CLASS__:!0,name:r.constructor.name,value:r}:`[${r.constructor.name||"NOT SERIALIZABLE"}]`}return r}))),s.length=0}}let L=!1,F=0;const H=Symbol("ORIGIN_TARGET");function $(t,e,n=""){return"object"==typeof(s=t)&&!Array.isArray(s)&&null!==s||"function"==typeof t?new Proxy(t,{apply(t,s,r){const o=F++,i=n.split("."),a=i.pop();return e({func:t.bind(s?s[H]:void 0),effectId:o,name:i.join("."),method:a,args:r})},construct:(t,e)=>(L||(console.warn(`EFFECTS - It is highly recommended to create a custom effect, exposing a method that deals with the instantiation of "${n}". It improves readability and debugability of your app`),L=!0),new t(...e)),get:(t,s)=>s===H?t:$(t[s],e,n?n+"."+s.toString():s.toString())}):t;var s}const V=()=>({actions:t},e)=>{const n=tt("onInitializeOvermind",t);return Promise.all(n.map((t=>t(e))))},Y=(()=>{let t;try{t="production"}catch(e){console.warn("Overmind was unable to determine the NODE_ENV, which means it will run in DEVELOPMENT mode. If this is a production app, please configure your build tool to define NODE_ENV"),t="development"}return t})(),U="test"===Y,B=Symbol("operator"),G=Symbol("origina_actions"),q=Symbol("execution"),z=Symbol("MODE_DEFAULT"),W=Symbol("MODE_TEST"),X=Symbol("MODE_SSR");class J{emit(){}emitAsync(){}on(){}once(){}addListener(){}}function K(t){return t instanceof Promise||t&&"function"==typeof t.then&&"function"==typeof t.catch}function Z(t){return Object.keys(t).reduce(((e,n)=>{if("__esModule"===n)return e;const s=Object.getOwnPropertyDescriptor(t,n);if(s&&"get"in s)return Object.defineProperty(e,n,s),e;const r=t[n];return j(r)?e[n]=Z(r):Object.defineProperty(e,n,s),e}),j(t)?{}:t)}function Q(t,e,n=[],s=[]){const r=Object.keys(t),o=Object.keys(e);return r.forEach((t=>{o.includes(t)||s.push({delimiter:".",args:[],path:n.concat(t).join("."),hasChangedValue:!1,method:"unset"})})),o.forEach((r=>{j(t[r])&&j(e[r])?Q(t[r],e[r],n.concat(r),s):t[r]!==e[r]&&s.push({delimiter:".",args:[e[r]],path:n.concat(r).join("."),hasChangedValue:!1,method:"set"})})),s}function tt(t,e={},n=[]){return Object.keys(e).reduce(((s,r)=>"function"==typeof e[r]&&r===t?s.concat(e[r]):s.concat(tt(t,e[r],n.concat(r)))),[])}function et(t={},e=[]){return Object.keys(t).reduce(((n,s)=>"function"==typeof t[s]?n.concat(e.concat(s).join(".")):n.concat(et(t[s],e.concat(s)))),[])}function nt(t,e){return new Proxy(t,{get:(n,s)=>s===G?t:"function"==typeof n[s]?e(n[s]):n[s]?nt(n[s],e):void 0})}const st={};class rt{constructor(t,e={},n={mode:z}){this.actionReferences={},this.nextExecutionId=0,this.reydrateMutationsForHotReloading=[],this.isStrict=!1,this.reaction=(t,e,n={})=>{let s;if(n.nested){const n=t(this.state);if(!n||!n[f])throw new Error('You have to return an object or array from the Overmind state when using a "nested" reaction');const r=n[d];s=this.addFlushListener((t=>{t.forEach((t=>{t.path.startsWith(r)&&e(r?r.split(this.delimiter).reduce(((t,e)=>t[e]),this.state):this.state)}))}))}else{const n=this.proxyStateTreeInstance.getTrackStateTree();let r;const o=()=>{n.trackScope((()=>r=t(n.state)),(()=>{o(),e(r)}))};o(),s=()=>{n.dispose()}}return n.immediate&&e(t(this.state)),s},this.addMutationListener=t=>this.proxyStateTreeInstance.onMutation(t),this.addFlushListener=t=>this.proxyStateTreeInstance.onFlush(t);const s=e.name||"OvermindApp",r=e.devEnv||"development",o="undefined"!=typeof process&&process.title&&process.title.includes("node");if(this.delimiter=e.delimiter||".",this.isStrict=Boolean(e.strict),Y===r&&n.mode===z&&!1!==e.hotReloading&&!o){if(st[s])return st[s].reconfigure(t);st[s]=this}const i=n.mode===X?new J:new P,a=this.createProxyStateTree(t,i,n.mode===W||Y===r,n.mode===X);if(this.originalConfiguration=t,this.state=a.state,this.effects=t.effects||{},this.proxyStateTreeInstance=a,this.eventHub=i,this.mode=n,this.actions=this.getActions(t.actions),n.mode!==X){if(Y===r&&n.mode===z&&"undefined"!=typeof window){let n="OVERMIND: You are running in DEVELOPMENT mode.";if(!0!==e.logProxies){const t=console.log;console.log=(...e)=>t.apply(console,e.map((t=>t&&t[f]?t[p]:t))),n+='\n\n - To improve debugging experience "console.log" will NOT log proxies from Overmind, but the actual value. Please see docs to turn off this behaviour'}if(e.devtools||"undefined"!=typeof location&&"localhost"===location.hostname&&!1!==e.devtools){const n=!0===e.devtools?"localhost:3031":e.devtools,s=e.name?e.name:"undefined"==typeof document?"NoName":document.title||"NoName";this.initializeDevtools(n,s,i,a.sourceState,t.actions)}else!1!==e.devtools&&(n+="\n\n - You are not running on localhost. You will have to manually define the devtools option to connect");U||console.warn(n)}if("production"===Y&&n.mode===z){let t;i.on(k.OPERATOR_ASYNC,(t=>{t.parentExecution&&t.parentExecution.isRunning||a.getMutationTree().flush(!0)})),i.on(k.ACTION_END,(t=>{t.parentExecution&&t.parentExecution.isRunning||a.getMutationTree().flush()}));const e=()=>{a.getMutationTree().flush(!0)};this.proxyStateTreeInstance.onMutation((()=>{t&&clearTimeout(t),t=setTimeout(e,0)}))}else n.mode!==z&&n.mode!==W||(("test"===Y||this.devtools&&!1!==e.hotReloading)&&i.on(k.MUTATIONS,(t=>{this.reydrateMutationsForHotReloading=this.reydrateMutationsForHotReloading.concat(t.mutations)})),i.on(k.OPERATOR_ASYNC,(t=>{if(!t.parentExecution||!t.parentExecution.isRunning){const e=t.flush(!0);this.devtools&&e.mutations.length&&this.devtools.send({type:"flush",data:Object.assign(Object.assign({},t),e)})}})),i.on(k.ACTION_END,(t=>{if(!t.parentExecution||!t.parentExecution.isRunning){const e=t.flush();this.devtools&&e.mutations.length&&this.devtools.send({type:"flush",data:Object.assign(Object.assign({},t),e)})}})));if(n.mode===z){const t=this.createAction("onInitialize",V());this.initialized=Promise.resolve(t(this))}else this.initialized=Promise.resolve(null)}}createProxyStateTree(t,e,n,s){const r=new S(this.getState(t),{devmode:n&&!s,ssr:s,delimiter:this.delimiter,onSetFunction:(t,e,n,s,r)=>r[A]?new C(r):r,onGetFunction:(t,n,s,o)=>{const i=s[o];if(i[x])return i(e,t,r,n.split(this.delimiter));if(i[A]){const a=new C(i);return s[o]=a,a(e,t,r,n.split(this.delimiter))}return i},onGetter:n?(t,e)=>{this.eventHub.emitAsync(k.GETTER,{path:t,value:e})}:void 0});return r}createExecution(t,e,n){const s=t.split(".");if(s.pop(),"production"===Y)return{[q]:!0,parentExecution:n,namespacePath:s,actionName:t,getMutationTree:()=>this.proxyStateTreeInstance.getMutationTree(),getTrackStateTree:()=>this.proxyStateTreeInstance.getTrackStateTree(),emit:this.eventHub.emit.bind(this.eventHub)};const r=[];return{[q]:!0,namespacePath:s,actionId:t,executionId:this.nextExecutionId++,actionName:t,operatorId:0,isRunning:!0,parentExecution:n,path:[],emit:this.eventHub.emit.bind(this.eventHub),send:this.devtools?this.devtools.send.bind(this.devtools):()=>{},trackEffects:this.trackEffects.bind(this,this.effects),getNextOperatorId:(()=>{let t=0;return()=>++t})(),flush:n?n.flush:t=>this.proxyStateTreeInstance.flush(r,t),getMutationTree:n?n.getMutationTree:()=>{const t=this.proxyStateTreeInstance.getMutationTree();return r.push(t),t},getTrackStateTree:()=>this.proxyStateTreeInstance.getTrackStateTree(),onFlush:t=>this.proxyStateTreeInstance.onFlush(t),scopeValue:(t,e)=>this.scopeValue(t,e)}}createContext(t,e){return{state:e.state,actions:nt(this.actions,(e=>n=>e(n,t.isRunning?t:null))),execution:t,proxyStateTree:this.proxyStateTreeInstance,effects:this.trackEffects(this.effects,t),addNamespace:this.addNamespace.bind(this),reaction:this.reaction.bind(this),addMutationListener:this.addMutationListener.bind(this),addFlushListener:this.addFlushListener.bind(this)}}addNamespace(t,e,n){const s=n||this.state,r=e.pop();if(t.state){e.reduce(((t,e)=>t[e]),s)[r]=Z(t.state)}if(t.actions){e.reduce(((t,e)=>t[e]),this.actions)[r]=this.getActions(t.actions)}if(t.effects){e.reduce(((t,e)=>t[e]),this.effects)[r]=t.effects}}scopeValue(t,e){return t?t[f]?this.proxyStateTreeInstance.rescope(t,e):j(t)?Object.assign({},...Object.keys(t).map((n=>({[n]:this.proxyStateTreeInstance.rescope(t[n],e)})))):t:t}addExecutionMutation(t){this.mutations.push(t)}createAction(t,e){this.actionReferences[t]=e;return(e,n)=>{const s=this.actionReferences[t];if(n=n&&n[q]?n:void 0,"production"===Y||s[B]||this.mode.mode===X){const r=this.createExecution(t,s,n);if(this.eventHub.emit(k.ACTION_START,Object.assign(Object.assign({},r),{value:e})),s[B])return new Promise(((t,n)=>{s(null,Object.assign(Object.assign({},this.createContext(r,this.proxyStateTreeInstance)),{value:e}),((e,s)=>{r.isRunning=!1,s&&this.eventHub.emit(k.ACTION_END,Object.assign(Object.assign({},s.execution),{operatorId:s.execution.operatorId-1})),e?n(e):t(s.value)}))}));{const t=r.getMutationTree();this.isStrict&&t.blockMutations();const n=s(this.createContext(r,t),e);return this.eventHub.emit(k.ACTION_END,r),n}}{const o=Object.assign(Object.assign({},this.createExecution(t,s,n)),{operatorId:0,type:"action"});this.eventHub.emit(k.ACTION_START,Object.assign(Object.assign({},o),{value:e})),this.eventHub.emit(k.OPERATOR_START,o);const i=o.getMutationTree();this.isStrict&&i.blockMutations(),i.onMutation((t=>{this.eventHub.emit(k.MUTATIONS,Object.assign(Object.assign({},o),{mutations:[t]}))}));const a=this.scopeValue(e,i),c=this.createContext(o,i);try{let t;i.onMutation((e=>{t&&clearTimeout(t),this.mode.mode===W?this.addExecutionMutation(e):this.mode.mode===z&&(t=setTimeout((()=>{t=null;const e=o.flush(!0);this.devtools&&e.mutations.length&&this.devtools.send({type:"flush",data:Object.assign(Object.assign(Object.assign({},o),e),{mutations:e.mutations})})})))}));let e=s(c,a);return K(e)?(this.eventHub.emit(k.OPERATOR_ASYNC,o),e=e.then((t=>(o.isRunning=!1,n||i.dispose(),this.eventHub.emit(k.OPERATOR_END,Object.assign(Object.assign({},o),{isAsync:!0,result:void 0})),this.eventHub.emit(k.ACTION_END,o),t))).catch((t=>{throw o.isRunning=!1,n||i.dispose(),this.eventHub.emit(k.OPERATOR_END,Object.assign(Object.assign({},o),{isAsync:!0,result:void 0,error:t.message})),this.eventHub.emit(k.ACTION_END,o),t}))):(o.isRunning=!1,n||i.dispose(),this.eventHub.emit(k.OPERATOR_END,Object.assign(Object.assign({},o),{isAsync:!1,result:void 0})),this.eventHub.emit(k.ACTION_END,o)),e}catch(r){throw this.eventHub.emit(k.OPERATOR_END,Object.assign(Object.assign({},o),{isAsync:!1,result:void 0,error:r.message})),this.eventHub.emit(k.ACTION_END,o),r}}}}trackEffects(t={},e){return"production"===Y?t:$(this.effects,(t=>{let n;try{if(this.mode.mode===W){n=this.mode.options.effectsCallback(t)}else this.eventHub.emit(k.EFFECT,Object.assign(Object.assign(Object.assign({},e),t),{args:t.args,isPending:!0,error:!1})),n=t.func.apply(this,t.args)}catch(s){throw this.eventHub.emit(k.EFFECT,Object.assign(Object.assign(Object.assign({},e),t),{args:t.args,isPending:!1,error:s.message})),s}return K(n)?(this.eventHub.emit(k.EFFECT,Object.assign(Object.assign(Object.assign({},e),t),{args:t.args,isPending:!0,error:!1})),n.then((n=>(this.eventHub.emit(k.EFFECT,Object.assign(Object.assign(Object.assign({},e),t),{args:t.args,result:n,isPending:!1,error:!1})),n))).catch((n=>{throw this.eventHub.emit(k.EFFECT,Object.assign(Object.assign(Object.assign({},e),t),{args:t.args,isPending:!1,error:n&&n.message})),n}))):(this.eventHub.emit(k.EFFECT,Object.assign(Object.assign(Object.assign({},e),t),{args:t.args,result:n,isPending:!1,error:!1})),n)}))}initializeDevtools(t,e,n,s,r){if("production"===Y)return;const o=new _(e);o.connect(t,(t=>{switch(t.type){case"refresh":location.reload();break;case"executeAction":{const e=t.data.name.split(".").reduce(((t,e)=>t[e]),this.actions);t.data.payload?e(JSON.parse(t.data.payload)):e();break}case"mutation":{const e=this.proxyStateTreeInstance.getMutationTree(),n=t.data.path.slice(),s=JSON.parse(`{ "value": ${t.data.value} }`).value,r=n.pop();n.reduce(((t,e)=>t[e]),e.state)[r]=s,e.flush(!0),e.dispose(),this.devtools.send({type:"state",data:{path:t.data.path,value:s}});break}}}));for(const i in k)n.on(k[i],(t=>e=>{o.send({type:k[i],data:e}),t===k.MUTATIONS&&e.mutations.forEach((t=>{const e=t.path.split(this.delimiter).reduce(((t,e)=>t[e]),this.proxyStateTreeInstance.state);j(e)?Object.keys(e).forEach((t=>e[t])):Array.isArray(e)&&e.forEach((t=>{j(t)&&Object.keys(t).forEach((e=>t[e]))}))})),t===k.DERIVED_DIRTY&&e.derivedPath.reduce(((t,e)=>t[e]),this.proxyStateTreeInstance.state)})(k[i]));o.send({type:"init",data:{state:this.proxyStateTreeInstance.state,actions:et(r),delimiter:this.delimiter}}),this.devtools=o}getState(t){let e={};return t.state&&(e=Z(t.state)),e}getActions(t={},e=[]){return Object.keys(t).reduce(((n,s)=>{if("function"==typeof t[s]){const r=this.createAction(e.concat(s).join("."),t[s]);return r.displayName=e.concat(s).join("."),Object.assign(n,{[s]:r})}return Object.assign(n,{[s]:this.getActions(t[s],e.concat(s))})}),{})}updateActions(t={},e=[]){Object.keys(t).forEach((n=>{if("function"==typeof t[n]){const s=e.concat(n).join(".");if(this.actionReferences[s])this.actionReferences[s]=t[n];else{const r=e.reduce(((t,e)=>(t[e]||(t[e]={}),t[e])),this.actions);r[n]=this.createAction(s,t[n]),r[n].displayName=e.concat(n).join(".")}}else this.updateActions(t[n],e.concat(n))}),{})}getTrackStateTree(){return this.proxyStateTreeInstance.getTrackStateTree()}getMutationTree(){return this.proxyStateTreeInstance.getMutationTree()}reconfigure(t){const e=Q(this.originalConfiguration.state,t.state||{});this.updateActions(t.actions),this.effects=t.effects||{};const n=this.proxyStateTreeInstance.getMutationTree();return N(n.state,e),this.reydrateMutationsForHotReloading.forEach((t=>{try{N(n.state,[t])}catch(e){}})),n.flush(),n.dispose(),this.devtools&&this.devtools.send({type:"re_init",data:{state:this.state,actions:et(t.actions)}}),this}}const ot=Symbol("OVERMIND"),it="production"===Y;let at=0;const ct=t=>({install(e,n=(({state:t,actions:e,effects:n})=>({state:t,actions:e,effects:n}))){e.mixin(function(t,e,n=!1){const s=at++;let r=0;return Object.assign(Object.assign({beforeCreate(){t.mode.mode===X?(this.overmind={state:t.state,actions:t.actions,effects:t.effects,addMutationListener:t.addMutationListener,reaction:t.reaction},e&&Object.assign(this,e({state:t.state,actions:t.actions,effects:t.effects}))):(this[ot]={tree:t.proxyStateTreeInstance.getTrackStateTree(),componentInstanceId:r++,onUpdate:(t,e,n)=>{this[ot].currentFlushId=n,this[ot].isUpdating=!0,this.$forceUpdate()},isUpdating:!1},this.overmind={state:this[ot].tree.state,actions:t.actions,effects:t.effects,addMutationListener:t.addMutationListener,reaction:t.reaction},this[ot].tree.track(this[ot].onUpdate),e&&Object.assign(this,e({state:this[ot].tree.state,actions:t.actions,effects:t.effects})))},beforeUpdate(){t.mode.mode!==X&&(this[ot].tree.track(this[ot].onUpdate),e&&n&&Object.assign(this,e({state:this[ot].tree.state,actions:t.actions,effects:t.effects})))}},it?{updated(){this[ot].tree.stopTracking()}}:{mounted(){t.mode.mode!==X&&t.eventHub.emitAsync(k.COMPONENT_ADD,{componentId:s,componentInstanceId:this[ot].componentInstanceId,name:this.$options.name||"",paths:Array.from(this[ot].tree.pathDependencies)})},updated(){t.mode.mode!==X&&(this[ot].tree.stopTracking(),this[ot].isUpdating&&(t.eventHub.emitAsync(k.COMPONENT_UPDATE,{componentId:s,componentInstanceId:this[ot].componentInstanceId,name:this.$options.name||"",flushId:this[ot].currentFlushId,paths:Array.from(this[ot].tree.pathDependencies)}),this[ot].isUpdating=!1))}}),{beforeDestroy(){t.mode.mode!==X&&(t.proxyStateTreeInstance.disposeTree(this[ot].tree),it||t.eventHub.emitAsync(k.COMPONENT_REMOVE,{componentId:s,componentInstanceId:this[ot].componentInstanceId,name:this.$options.name||""}))}})}(t,n))}});
/*!
  * vue-router v4.0.10
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */
const ut="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,lt=t=>ut?Symbol(t):"_vr_"+t,ht=lt("rvlm"),ft=lt("rvd"),dt=lt("r"),pt=lt("rl"),mt=lt("rvl"),gt="undefined"!=typeof window;const yt=Object.assign;function bt(t,e){const n={};for(const s in e){const r=e[s];n[s]=Array.isArray(r)?r.map(t):t(r)}return n}let vt=()=>{};const Ot=/\/$/;function Tt(t,e,n="/"){let s,r={},o="",i="";const a=e.indexOf("?"),c=e.indexOf("#",a>-1?a:0);return a>-1&&(s=e.slice(0,a),o=e.slice(a+1,c>-1?c:e.length),r=t(o)),c>-1&&(s=s||e.slice(0,c),i=e.slice(c,e.length)),s=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/");let r,o,i=n.length-1;for(r=0;r<s.length;r++)if(o=s[r],1!==i&&"."!==o){if(".."!==o)break;i--}return n.slice(0,i).join("/")+"/"+s.slice(r-(r===s.length?1:0)).join("/")}(null!=s?s:e,n),{fullPath:s+(o&&"?")+o+i,path:s,query:r,hash:i}}function Et(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function St(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function kt(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(!wt(t[n],e[n]))return!1;return!0}function wt(t,e){return Array.isArray(t)?xt(t,e):Array.isArray(e)?xt(e,t):t===e}function xt(t,e){return Array.isArray(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}var At,Ct,Pt,Rt;function jt(t){if(!t)if(gt){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),t.replace(Ot,"")}(Ct=At||(At={})).pop="pop",Ct.push="push",(Rt=Pt||(Pt={})).back="back",Rt.forward="forward",Rt.unknown="";const It=/^[^#]+#/;function Dt(t,e){return t.replace(It,"#")+e}const Mt=()=>({left:window.pageXOffset,top:window.pageYOffset});function Nt(t){let e;if("el"in t){let n=t.el;const s="string"==typeof n&&n.startsWith("#"),r="string"==typeof n?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=function(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function _t(t,e){return(history.state?history.state.position-e:-1)+t}const Lt=new Map;function Ft(t,e){const{pathname:n,search:s,hash:r}=e,o=t.indexOf("#");if(o>-1){let e=r.includes(t.slice(o))?t.slice(o).length:1,n=r.slice(e);return"/"!==n[0]&&(n="/"+n),Et(n,"")}return Et(n,t)+s+r}function Ht(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Mt():null}}function $t(t){const{history:e,location:n}=window;let s={value:Ft(t,n)},r={value:e.state};function o(s,o,i){const a=t.indexOf("#"),c=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+s:location.protocol+"//"+location.host+t+s;try{e[i?"replaceState":"pushState"](o,"",c),r.value=o}catch(u){console.error(u),n[i?"replace":"assign"](c)}}return r.value||o(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:s,state:r,push:function(t,n){const i=yt({},r.value,e.state,{forward:t,scroll:Mt()});o(i.current,i,!0),o(t,yt({},Ht(s.value,t,null),{position:i.position+1},n),!1),s.value=t},replace:function(t,n){o(t,yt({},e.state,Ht(r.value.back,t,r.value.forward,!0),n,{position:r.value.position}),!0),s.value=t}}}function Vt(t){return"string"==typeof t||"symbol"==typeof t}const Yt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ut=lt("nf");var Bt,Gt;function qt(t,e){return yt(new Error,{type:t,[Ut]:!0},e)}function zt(t,e){return t instanceof Error&&Ut in t&&(null==e||!!(t.type&e))}(Gt=Bt||(Bt={}))[Gt.aborted=4]="aborted",Gt[Gt.cancelled=8]="cancelled",Gt[Gt.duplicated=16]="duplicated";const Wt={sensitive:!1,strict:!1,start:!0,end:!0},Xt=/[.+*?^${}()[\]/\\]/g;function Jt(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function Kt(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const t=Jt(s[n],r[n]);if(t)return t;n++}return r.length-s.length}const Zt={type:0,value:""},Qt=/[a-zA-Z0-9_]/;function te(t,e,n){const s=function(t,e){const n=yt({},Wt,e);let s=[],r=n.start?"^":"";const o=[];for(const c of t){const t=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let e=0;e<c.length;e++){const s=c[e];let i=40+(n.sensitive?.25:0);if(0===s.type)e||(r+="/"),r+=s.value.replace(Xt,"\\$&"),i+=40;else if(1===s.type){const{value:t,repeatable:n,optional:u,regexp:l}=s;o.push({name:t,repeatable:n,optional:u});const h=l||"[^/]+?";if("[^/]+?"!==h){i+=10;try{new RegExp(`(${h})`)}catch(a){throw new Error(`Invalid custom RegExp for param "${t}" (${h}): `+a.message)}}let f=n?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;e||(f=u&&c.length<2?`(?:/${f})`:"/"+f),u&&(f+="?"),r+=f,i+=20,u&&(i+=-8),n&&(i+=-20),".*"===h&&(i+=-50)}t.push(i)}s.push(t)}if(n.strict&&n.end){const t=s.length-1;s[t][s[t].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");return{re:i,score:s,keys:o,parse:function(t){const e=t.match(i),n={};if(!e)return null;for(let s=1;s<e.length;s++){const t=e[s]||"",r=o[s-1];n[r.name]=t&&r.repeatable?t.split("/"):t}return n},stringify:function(e){let n="",s=!1;for(const r of t){s&&n.endsWith("/")||(n+="/"),s=!1;for(const t of r)if(0===t.type)n+=t.value;else if(1===t.type){const{value:o,repeatable:i,optional:a}=t,c=o in e?e[o]:"";if(Array.isArray(c)&&!i)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const u=Array.isArray(c)?c.join("/"):c;if(!u){if(!a)throw new Error(`Missing required param "${o}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):s=!0)}n+=u}}return n}}}(function(t){if(!t)return[[]];if("/"===t)return[[Zt]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${u}": ${t}`)}let n=0,s=n;const r=[];let o;function i(){o&&r.push(o),o=[]}let a,c=0,u="",l="";function h(){u&&(0===n?o.push({type:0,value:u}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:l,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),u="")}function f(){u+=a}for(;c<t.length;)if(a=t[c++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(u&&h(),i()):":"===a?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:"("===a?n=2:Qt.test(a)?f():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&c--);break;case 2:")"===a?"\\"==l[l.length-1]?l=l.slice(0,-1)+a:n=3:l+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&c--,l="";break;default:e("Unknown state")}else s=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${u}"`),h(),i(),r}(t.path),n),r=yt(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function ee(t,e){const n=[],s=new Map;function r(t,n,s){let a=!s,c=function(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:ne(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}(t);c.aliasOf=s&&s.record;const u=oe(e,t),l=[c];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)l.push(yt({},c,{components:s?s.record.components:c.components,path:t,aliasOf:s?s.record:c}))}let h,f;for(const e of l){let{path:l}=e;if(n&&"/"!==l[0]){let t=n.record.path,s="/"===t[t.length-1]?"":"/";e.path=n.record.path+(l&&s+l)}if(h=te(e,n,u),s?s.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),a&&t.name&&!se(h)&&o(t.name)),"children"in c){let t=c.children;for(let e=0;e<t.length;e++)r(t[e],h,s&&s.children[e])}s=s||h,i(h)}return f?()=>{o(f)}:vt}function o(t){if(Vt(t)){const e=s.get(t);e&&(s.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{let e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&s.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function i(t){let e=0;for(;e<n.length&&Kt(t,n[e])>=0;)e++;n.splice(e,0,t),t.record.name&&!se(t)&&s.set(t.record.name,t)}return e=oe({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>r(t))),{addRoute:r,resolve:function(t,e){let r,o,i,a={};if("name"in t&&t.name){if(r=s.get(t.name),!r)throw qt(1,{location:t});i=r.record.name,a=yt(function(t,e){let n={};for(let s of e)s in t&&(n[s]=t[s]);return n}(e.params,r.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params),o=r.stringify(a)}else if("path"in t)o=t.path,r=n.find((t=>t.re.test(o))),r&&(a=r.parse(o),i=r.record.name);else{if(r=e.name?s.get(e.name):n.find((t=>t.re.test(e.path))),!r)throw qt(1,{location:t,currentLocation:e});i=r.record.name,a=yt({},e.params,t.params),o=r.stringify(a)}const c=[];let u=r;for(;u;)c.unshift(u.record),u=u.parent;return{name:i,path:o,params:a,matched:c,meta:re(c)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(t){return s.get(t)}}}function ne(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(let s in t.components)e[s]="boolean"==typeof n?n:n[s];return e}function se(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function re(t){return t.reduce(((t,e)=>yt(t,e.meta)),{})}function oe(t,e){let n={};for(let s in t)n[s]=s in e?e[s]:t[s];return n}const ie=/#/g,ae=/&/g,ce=/\//g,ue=/=/g,le=/\?/g,he=/\+/g,fe=/%5B/g,de=/%5D/g,pe=/%5E/g,me=/%60/g,ge=/%7B/g,ye=/%7C/g,be=/%7D/g,ve=/%20/g;function Oe(t){return encodeURI(""+t).replace(ye,"|").replace(fe,"[").replace(de,"]")}function Te(t){return Oe(t).replace(he,"%2B").replace(ve,"+").replace(ie,"%23").replace(ae,"%26").replace(me,"`").replace(ge,"{").replace(be,"}").replace(pe,"^")}function Ee(t){return function(t){return Oe(t).replace(ie,"%23").replace(le,"%3F")}(t).replace(ce,"%2F")}function Se(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function ke(t){const e={};if(""===t||"?"===t)return e;const n=("?"===t[0]?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const t=n[s].replace(he," ");let r=t.indexOf("="),o=Se(r<0?t:t.slice(0,r)),i=r<0?null:Se(t.slice(r+1));if(o in e){let t=e[o];Array.isArray(t)||(t=e[o]=[t]),t.push(i)}else e[o]=i}return e}function we(t){let e="";for(let n in t){const s=t[n];if(n=Te(n).replace(ue,"%3D"),null==s){void 0!==s&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(s)?s.map((t=>t&&Te(t))):[s&&Te(s)]).forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function xe(t){const e={};for(let n in t){let s=t[n];void 0!==s&&(e[n]=Array.isArray(s)?s.map((t=>null==t?null:""+t)):null==s?s:""+s)}return e}function Ae(){let t=[];return{add:function(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},list:()=>t,reset:function(){t=[]}}}function Ce(t,e,n,s,r){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise(((i,a)=>{const c=t=>{var c;!1===t?a(qt(4,{from:n,to:e})):t instanceof Error?a(t):"string"==typeof(c=t)||c&&"object"==typeof c?a(qt(2,{from:e,to:t})):(o&&s.enterCallbacks[r]===o&&"function"==typeof t&&o.push(t),i())},u=t.call(s&&s.instances[r],e,n,c);let l=Promise.resolve(u);t.length<3&&(l=l.then(c)),l.catch((t=>a(t)))}))}function Pe(t,e,n,s){const r=[];for(const i of t)for(const t in i.components){let a=i.components[t];if("beforeRouteEnter"===e||i.instances[t])if("object"==typeof(o=a)||"displayName"in o||"props"in o||"__vccOpts"in o){const o=(a.__vccOpts||a)[e];o&&r.push(Ce(o,n,s,i,t))}else{let o=a();r.push((()=>o.then((r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${i.path}"`));const o=(a=r).__esModule||ut&&"Module"===a[Symbol.toStringTag]?r.default:r;var a;i.components[t]=o;const c=(o.__vccOpts||o)[e];return c&&Ce(c,n,s,i,t)()}))))}}var o;return r}function Re(t){const s=i(dt),r=i(pt),o=n((()=>s.resolve(e(t.to)))),a=n((()=>{let{matched:t}=o.value,{length:e}=t;const n=t[e-1];let s=r.matched;if(!n||!s.length)return-1;let i=s.findIndex(St.bind(null,n));if(i>-1)return i;let a=Ie(t[e-2]);return e>1&&Ie(n)===a&&s[s.length-1].path!==a?s.findIndex(St.bind(null,t[e-2])):i})),c=n((()=>a.value>-1&&function(t,e){for(let n in e){let s=e[n],r=t[n];if("string"==typeof s){if(s!==r)return!1}else if(!Array.isArray(r)||r.length!==s.length||s.some(((t,e)=>t!==r[e])))return!1}return!0}(r.params,o.value.params))),u=n((()=>a.value>-1&&a.value===r.matched.length-1&&kt(r.params,o.value.params)));return{route:o,href:n((()=>o.value.href)),isActive:c,isExactActive:u,navigate:function(n={}){return function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(n)?s[e(t.replace)?"replace":"push"](e(t.to)).catch(vt):Promise.resolve()}}}const je=o({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Re,setup(t,{slots:e}){const r=s(Re(t)),{options:o}=i(dt),c=n((()=>({[De(t.activeClass,o.linkActiveClass,"router-link-active")]:r.isActive,[De(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive})));return()=>{const n=e.default&&e.default(r);return t.custom?n:a("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:c.value},n)}}});function Ie(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const De=(t,e,n)=>null!=t?t:null!=e?e:n;function Me(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const Ne=o({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:s}){const r=i(mt),o=n((()=>t.route||r.value)),h=i(ft,0),f=n((()=>o.value.matched[h]));c(ft,h+1),c(ht,f),c(mt,o);const d=u();return l((()=>[d.value,f.value,t.name]),(([t,e,n],[s,r,o])=>{e&&(e.instances[n]=t,r&&r!==e&&t&&t===s&&(e.leaveGuards.size||(e.leaveGuards=r.leaveGuards),e.updateGuards.size||(e.updateGuards=r.updateGuards))),!t||!e||r&&St(e,r)&&s||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const n=o.value,r=f.value,i=r&&r.components[t.name],c=t.name;if(!i)return Me(s.default,{Component:i,route:n});const u=r.props[t.name],l=u?!0===u?n.params:"function"==typeof u?u(n):u:null,h=a(i,yt({},l,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(r.instances[c]=null)},ref:d}));return Me(s.default,{Component:h,route:n})||h}}});function _e(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}const Le=function(o){const i=ee(o.routes,o);let a=o.parseQuery||ke,c=o.stringifyQuery||we,u=o.history;const l=Ae(),h=Ae(),f=Ae(),d=t(Yt);let p=Yt;gt&&o.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=bt.bind(null,(t=>""+t)),g=bt.bind(null,Ee),y=bt.bind(null,Se);function b(t,e){if(e=yt({},e||d.value),"string"==typeof t){let n=Tt(a,t,e.path),s=i.resolve({path:n.path},e),r=u.createHref(n.fullPath);return yt(n,s,{params:y(s.params),hash:Se(n.hash),redirectedFrom:void 0,href:r})}let n;"path"in t?n=yt({},t,{path:Tt(a,t.path,e.path).path}):(n=yt({},t,{params:g(t.params)}),e.params=g(e.params));let s=i.resolve(n,e);const r=t.hash||"";s.params=m(y(s.params));const o=function(t,e){let n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}(c,yt({},t,{hash:(l=r,Oe(l).replace(ge,"{").replace(be,"}").replace(pe,"^")),path:s.path}));var l;let h=u.createHref(o);return yt({fullPath:o,hash:r,query:c===we?xe(t.query):t.query},s,{redirectedFrom:void 0,href:h})}function v(t){return"string"==typeof t?Tt(a,t,d.value.path):yt({},t)}function O(t,e){if(p!==t)return qt(8,{from:e,to:t})}function T(t){return S(t)}function E(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let s="function"==typeof n?n(t):n;return"string"==typeof s&&(s=s.includes("?")||s.includes("#")?s=v(s):{path:s},s.params={}),yt({query:t.query,hash:t.hash,params:t.params},s)}}function S(t,e){const n=p=b(t),s=d.value,r=t.state,o=t.force,i=!0===t.replace,a=E(n);if(a)return S(yt(v(a),{state:r,force:o,replace:i}),e||n);const u=n;let l;return u.redirectedFrom=e,!o&&function(t,e,n){let s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&St(e.matched[s],n.matched[r])&&kt(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}(c,s,n)&&(l=qt(16,{to:u,from:s}),N(s,s,!0,!1)),(l?Promise.resolve(l):w(u,s)).catch((t=>zt(t)?t:D(t,u,s))).then((t=>{if(t){if(zt(t,2))return S(yt(v(t.to),{state:r,force:o,replace:i}),e||u)}else t=A(u,s,!0,i,r);return x(u,s,t),t}))}function k(t,e){const n=O(t,e);return n?Promise.reject(n):Promise.resolve()}function w(t,e){let n;const[s,r,o]=function(t,e){const n=[],s=[],r=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const o=e.matched[i];o&&(t.matched.find((t=>St(t,o)))?s.push(o):n.push(o));const a=t.matched[i];a&&(e.matched.find((t=>St(t,a)))||r.push(a))}return[n,s,r]}(t,e);n=Pe(s.reverse(),"beforeRouteLeave",t,e);for(const a of s)a.leaveGuards.forEach((s=>{n.push(Ce(s,t,e))}));const i=k.bind(null,t,e);return n.push(i),_e(n).then((()=>{n=[];for(const s of l.list())n.push(Ce(s,t,e));return n.push(i),_e(n)})).then((()=>{n=Pe(r,"beforeRouteUpdate",t,e);for(const s of r)s.updateGuards.forEach((s=>{n.push(Ce(s,t,e))}));return n.push(i),_e(n)})).then((()=>{n=[];for(const s of t.matched)if(s.beforeEnter&&!e.matched.includes(s))if(Array.isArray(s.beforeEnter))for(const r of s.beforeEnter)n.push(Ce(r,t,e));else n.push(Ce(s.beforeEnter,t,e));return n.push(i),_e(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=Pe(o,"beforeRouteEnter",t,e),n.push(i),_e(n)))).then((()=>{n=[];for(const s of h.list())n.push(Ce(s,t,e));return n.push(i),_e(n)})).catch((t=>zt(t,8)?t:Promise.reject(t)))}function x(t,e,n){for(const s of f.list())s(t,e,n)}function A(t,e,n,s,r){const o=O(t,e);if(o)return o;const i=e===Yt,a=gt?history.state:{};n&&(s||i?u.replace(t.fullPath,yt({scroll:i&&a&&a.scroll},r)):u.push(t.fullPath,r)),d.value=t,N(t,e,n,i),M()}let C;function P(){C=u.listen(((t,e,n)=>{let s=b(t);const r=E(s);if(r)return void S(yt(r,{replace:!0}),s).catch(vt);p=s;const o=d.value;var i,a;gt&&(i=_t(o.fullPath,n.delta),a=Mt(),Lt.set(i,a)),w(s,o).catch((t=>zt(t,12)?t:zt(t,2)?(S(t.to,s).then((t=>{zt(t,20)&&!n.delta&&n.type===At.pop&&u.go(-1,!1)})).catch(vt),Promise.reject()):(n.delta&&u.go(-n.delta,!1),D(t,s,o)))).then((t=>{(t=t||A(s,o,!1))&&(n.delta?u.go(-n.delta,!1):n.type===At.pop&&zt(t,20)&&u.go(-1,!1)),x(s,o,t)})).catch(vt)}))}let R,j=Ae(),I=Ae();function D(t,e,n){M(t);const s=I.list();return s.length?s.forEach((s=>s(t,e,n))):console.error(t),Promise.reject(t)}function M(t){R||(R=!0,P(),j.list().forEach((([e,n])=>t?n(t):e())),j.reset())}function N(t,e,n,s){const{scrollBehavior:i}=o;if(!gt||!i)return Promise.resolve();let a=!n&&function(t){const e=Lt.get(t);return Lt.delete(t),e}(_t(t.fullPath,0))||(s||!n)&&history.state&&history.state.scroll||null;return r().then((()=>i(t,e,a))).then((t=>t&&Nt(t))).catch((n=>D(n,t,e)))}const _=t=>u.go(t);let L;const F=new Set;return{currentRoute:d,addRoute:function(t,e){let n,s;return Vt(t)?(n=i.getRecordMatcher(t),s=e):s=t,i.addRoute(s,n)},removeRoute:function(t){let e=i.getRecordMatcher(t);e&&i.removeRoute(e)},hasRoute:function(t){return!!i.getRecordMatcher(t)},getRoutes:function(){return i.getRoutes().map((t=>t.record))},resolve:b,options:o,push:T,replace:function(t){return T(yt(v(t),{replace:!0}))},go:_,back:()=>_(-1),forward:()=>_(1),beforeEach:l.add,beforeResolve:h.add,afterEach:f.add,onError:I.add,isReady:function(){return R&&d.value!==Yt?Promise.resolve():new Promise(((t,e)=>{j.add([t,e])}))},install(t){t.component("RouterLink",je),t.component("RouterView",Ne),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>e(d)}),gt&&!L&&d.value===Yt&&(L=!0,T(u.location).catch((t=>{})));const r={};for(let e in Yt)r[e]=n((()=>d.value[e]));t.provide(dt,this),t.provide(pt,s(r)),t.provide(mt,d);let o=t.unmount;F.add(t),t.unmount=function(){F.delete(t),F.size<1&&(C(),d.value=Yt,L=!1,R=!1),o()}}}}({history:function(t){const e=$t(t=jt(t)),n=function(t,e,n,s){let r=[],o=[],i=null;const a=({state:o})=>{const a=Ft(t,location),c=n.value,u=e.value;let l=0;if(o){if(n.value=a,e.value=o,i&&i===c)return void(i=null);l=u?o.position-u.position:0}else s(a);r.forEach((t=>{t(n.value,c,{delta:l,type:At.pop,direction:l?l>0?Pt.forward:Pt.back:Pt.unknown})}))};function c(){const{history:t}=window;t.state&&t.replaceState(yt({},t.state,{scroll:Mt()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c),{pauseListeners:function(){i=n.value},listen:function(t){r.push(t);const e=()=>{const e=r.indexOf(t);e>-1&&r.splice(e,1)};return o.push(e),e},destroy:function(){for(const t of o)t();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}}}(t,e.state,e.location,e.replace),s=yt({location:"",base:t,go:function(t,e=!0){e||n.pauseListeners(),history.go(t)},createHref:Dt.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}(),routes:[{path:"/",component:{template:"<div><br>Login</div>"},props:!0},{path:"/home",component:"<div><h1>HOME</h1></div>",props:!0},{path:"/404",component:{template:"<h1>404</h1>"}},{path:"/:table",component:"<div><h1>TABLE</h1></div>"},{path:"/:table/:id",component:"<div><h1>FORM</h1></div>"}]});class Fe{constructor(t){void 0===t||import(resolve(t)).then((t=>{console.log(t)}))}loadRoutes(){}loadEvents(){}loadClient(){}loadCustomComponents(){}}var He={install:function(t,e){const n=function(t,e){return new rt(t,e,{mode:z})}(r),s=ct(n);t.use(s),t.use(Le);const r=new Fe}};export{He as default};
